<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>小技巧 | 一叶凉夏</title><meta name="author" content="一叶凉夏"><meta name="copyright" content="一叶凉夏"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="小技巧1.template模板中使用对象和函数在vue3中无法使用filter，所以当需要对数据进行处理的时候，可以选择传入一个函数（因为函数是有返回值的） 同样的，对于类似下面的需求 123456789101112131415161718192021222324const examFilters &#x3D; (item: any) &#x3D;&gt; &#123;  switch (item.examFinis">
<meta property="og:type" content="article">
<meta property="og:title" content="小技巧">
<meta property="og:url" content="https://saberwode.github.io/2024/02/20/work_%E5%B0%8F%E6%8A%80%E5%B7%A7/index.html">
<meta property="og:site_name" content="一叶凉夏">
<meta property="og:description" content="小技巧1.template模板中使用对象和函数在vue3中无法使用filter，所以当需要对数据进行处理的时候，可以选择传入一个函数（因为函数是有返回值的） 同样的，对于类似下面的需求 123456789101112131415161718192021222324const examFilters &#x3D; (item: any) &#x3D;&gt; &#123;  switch (item.examFinis">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://saberwode.github.io/blog_img/7.jpg">
<meta property="article:published_time" content="2024-02-20T01:46:42.000Z">
<meta property="article:modified_time" content="2025-03-18T04:38:21.025Z">
<meta property="article:author" content="一叶凉夏">
<meta property="article:tag" content="work">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://saberwode.github.io/blog_img/7.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "小技巧",
  "url": "https://saberwode.github.io/2024/02/20/work_%E5%B0%8F%E6%8A%80%E5%B7%A7/",
  "image": "https://saberwode.github.io/blog_img/7.jpg",
  "datePublished": "2024-02-20T01:46:42.000Z",
  "dateModified": "2025-03-18T04:38:21.025Z",
  "author": [
    {
      "@type": "Person",
      "name": "一叶凉夏",
      "url": "https://saberwode.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://saberwode.github.io/2024/02/20/work_%E5%B0%8F%E6%8A%80%E5%B7%A7/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '小技巧',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/cat.gif" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">104</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/resume/"><i class="fa-fw fas fa-id-card"></i><span> 简历</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/blog_img/7.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">一叶凉夏</span></a><a class="nav-page-title" href="/"><span class="site-name">小技巧</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/resume/"><i class="fa-fw fas fa-id-card"></i><span> 简历</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">小技巧</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-02-20T01:46:42.000Z" title="发表于 2024-02-20 09:46:42">2024-02-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-03-18T04:38:21.025Z" title="更新于 2025-03-18 12:38:21">2025-03-18</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/work/">work</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h2><h4 id="1-template模板中使用对象和函数"><a href="#1-template模板中使用对象和函数" class="headerlink" title="1.template模板中使用对象和函数"></a>1.template模板中使用对象和函数</h4><p>在vue3中无法使用filter，所以当需要对数据进行处理的时候，可以选择传入一个函数（因为函数是有返回值的）</p>
<p>同样的，对于类似下面的需求</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">examFilters</span> = (<span class="params"><span class="attr">item</span>: <span class="built_in">any</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">switch</span> (item.<span class="property">examFinish</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;待考试&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;未参加&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;考试中&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;未通过&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;通过&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;已交卷&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这样看起来会很难看，所以可以使用下面的代码：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="variable constant_">EXAM_STATUS</span> &#123;</span><br><span class="line">  pending = <span class="number">0</span>,</span><br><span class="line">  none = <span class="number">1</span>,</span><br><span class="line">  examing = <span class="number">2</span>,</span><br><span class="line">  fail = <span class="number">3</span>,</span><br><span class="line">  pass = <span class="number">4</span>,</span><br><span class="line">  handle = <span class="number">5</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">examObj</span>: <span class="built_in">any</span> = &#123;</span><br><span class="line">  [<span class="variable constant_">EXAM_STATUS</span>.<span class="property">pending</span>]: <span class="string">&quot;待考试&quot;</span>,</span><br><span class="line">  [<span class="variable constant_">EXAM_STATUS</span>.<span class="property">none</span>]: <span class="string">&quot;未参加&quot;</span>,</span><br><span class="line">  [<span class="variable constant_">EXAM_STATUS</span>.<span class="property">examing</span>]: <span class="string">&quot;考试中&quot;</span>,</span><br><span class="line">  [<span class="variable constant_">EXAM_STATUS</span>.<span class="property">fail</span>]: <span class="string">&quot;未通过&quot;</span>,</span><br><span class="line">  [<span class="variable constant_">EXAM_STATUS</span>.<span class="property">pass</span>]: <span class="string">&quot;通过&quot;</span>,</span><br><span class="line">  [<span class="variable constant_">EXAM_STATUS</span>.<span class="property">handle</span>]: <span class="string">&quot;已交卷&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="2-列表懒加载实现"><a href="#2-列表懒加载实现" class="headerlink" title="2.列表懒加载实现"></a>2.列表懒加载实现</h4><ul>
<li>template</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">van-pull-refresh</span> <span class="attr">v-model</span>=<span class="string">&quot;isUpLoading&quot;</span> @<span class="attr">refresh</span>=<span class="string">&quot;onRefresh&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">van-list</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-model:loading</span>=<span class="string">&quot;isDownLoading&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:finished</span>=<span class="string">&quot;finished&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">finished-text</span>=<span class="string">&quot;没有更多了&quot;</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">load</span>=<span class="string">&quot;onLoad&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in courseList.list&quot;</span> <span class="attr">class</span>=<span class="string">&quot;courseList&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">CourseListItem</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:browse-count</span>=<span class="string">&quot;item.browseCount&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:course-cover</span>=<span class="string">&quot;item.courseCover&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:course-name</span>=<span class="string">&quot;item.courseName&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:publish-time</span>=<span class="string">&quot;dateFormatter(item.publishTime)&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:course-center-uuid</span>=<span class="string">&quot;item.courseCenterUuid&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">&quot;courseItem&quot;</span></span></span><br><span class="line"><span class="tag">            @<span class="attr">click</span>=<span class="string">&quot;handleClick(index)&quot;</span></span></span><br><span class="line"><span class="tag">          &gt;</span><span class="tag">&lt;/<span class="name">CourseListItem</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">van-list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">van-pull-refresh</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>js</li>
</ul>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> page = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">  <span class="attr">pageNo</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">pageSize</span>: <span class="number">10</span>,</span><br><span class="line">  <span class="attr">total</span>: <span class="number">0</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> isUpLoading = <span class="title function_">ref</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">const</span> finished = <span class="title function_">ref</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">const</span> isDownLoading = <span class="title function_">ref</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">onRefresh</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  isDownLoading.<span class="property">value</span> = <span class="literal">true</span>;</span><br><span class="line">  finished.<span class="property">value</span> = <span class="literal">false</span>;</span><br><span class="line">  isUpLoading.<span class="property">value</span> = <span class="literal">true</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;onRefresh&quot;</span>);</span><br><span class="line">  page.<span class="property">pageNo</span> = <span class="number">1</span>;</span><br><span class="line">  courseList.<span class="property">list</span> = [];</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">onLoad</span>(<span class="literal">true</span>);</span><br><span class="line">  isDownLoading.<span class="property">value</span> = <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> showListInfo = &#123;</span><br><span class="line">  <span class="attr">courseCategoryId</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line">  <span class="attr">courseName</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="attr">coursePopularity</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">timeOrder</span>: <span class="number">0</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; isAdd 是否追加数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">*</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">onLoad</span> = <span class="keyword">async</span> (<span class="params">isAdd = <span class="literal">true</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;onLoad&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="attr">res</span>: <span class="built_in">any</span> = <span class="keyword">await</span> <span class="title function_">showCourseCenterList</span>(&#123;</span><br><span class="line">      <span class="attr">pageNo</span>: page.<span class="property">pageNo</span>,</span><br><span class="line">      <span class="attr">pageSize</span>: page.<span class="property">pageSize</span>,</span><br><span class="line">      ...showListInfo,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;这是res&quot;</span>, res);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (isAdd === <span class="literal">true</span>) &#123;</span><br><span class="line">      courseList.<span class="property">list</span>.<span class="title function_">push</span>(...res.<span class="property">data</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      courseList.<span class="property">list</span> = res.<span class="property">data</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    isDownLoading.<span class="property">value</span> = <span class="literal">false</span>;</span><br><span class="line">    page.<span class="property">total</span> = res.<span class="property">count</span>;</span><br><span class="line">    <span class="keyword">if</span> (courseList.<span class="property">list</span>.<span class="property">length</span> &gt;= page.<span class="property">total</span>) &#123;</span><br><span class="line">      finished.<span class="property">value</span> = <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      finished.<span class="property">value</span> = <span class="literal">false</span>;</span><br><span class="line">      page.<span class="property">pageNo</span> += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    isUpLoading.<span class="property">value</span> = <span class="literal">false</span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    isUpLoading.<span class="property">value</span> = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>其中使用了vant的list和pull</p>
<h4 id="3-父组件传递子组件图片路径出错"><a href="#3-父组件传递子组件图片路径出错" class="headerlink" title="3.父组件传递子组件图片路径出错"></a>3.父组件传递子组件图片路径出错</h4><ul>
<li>先把图片<code>import</code>进来，再传递就好了</li>
</ul>
<h4 id="4-需要段落保持换行"><a href="#4-需要段落保持换行" class="headerlink" title="4.需要段落保持换行"></a>4.需要段落保持换行</h4><p>需求需要传过来有换行的段落，此时可以使用<code>&lt;pre&gt;</code>标签，可以换行，此时对其设置<code>wihte-space: pre-wrap</code></p>
<h4 id="5-获取当前时间戳"><a href="#5-获取当前时间戳" class="headerlink" title="5.获取当前时间戳"></a>5.获取当前时间戳</h4><ul>
<li><code>let timestamp = Date.parse(new Date().toString());</code></li>
<li><code>let currentDate = new Date().getTime()</code></li>
</ul>
<p>将字符串转化为时间戳：<code>let date = new Date(&#39;2022-08-30&#39;)</code></p>
<p>比较日期大小，可以直接通过<code>let date1 = new Date(2019,1,1)</code>，<code>let date2 = new Date(2019,2,1)</code></p>
<p><code>console.log(date1 &lt; date2)</code>,Date类型的valueof被重写后返回的是日期的毫秒表示</p>
<h4 id="6-git小技巧"><a href="#6-git小技巧" class="headerlink" title="6.git小技巧"></a>6.git小技巧</h4><p><code>git stash</code>将自己的代码存到暂存区，此时就可以方便去<code>git pull</code>拉取别人的代码</p>
<p>拉去后通过<code>git stash pop</code>将代码取出，之后进行修改冲突</p>
<p>git reset –soft HEAD^ 可以撤销上一次的commit，会保存之前的代码</p>
<p> git remote set-url origin {新地址} 可以改变remote的地址</p>
<p>git 合并分支 比如我想从 master 分支合并到test分支，此时我需要进入test分支，然后git merge origin&#x2F;master</p>
<p>就可以把master分支的代码合并到test上面</p>
<p>如果只是git pull遇到冲突，可以切换到其他分支，更新后删除那个冲突的分支<code>git branch v4.0.0 -D</code>，之后就可以正常切换到<code>v4.0.0</code>拉代码了</p>
<p>如果代码提交错分支了，可以通过git cherry-pick {id} 拉取改id的改动代码，之后进行push就可以了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d localBranchName 删除分支</span><br></pre></td></tr></table></figure>

<p>45个git经典操作<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/QEoC5Ib-zkd6r8SVFcpeUw">https://mp.weixin.qq.com/s/QEoC5Ib-zkd6r8SVFcpeUw</a></p>
<h4 id="7-last-child"><a href="#7-last-child" class="headerlink" title="7. :last-child"></a>7. :last-child</h4><p>last-child是选择的相较于父元素的最后一个子元素，也就是同级元素。这里面会有坑，比如有一个需求是需要为除了最后一个列表项加上一个底边框。此时列表的容器为<code>container</code>，列表项为<code>for</code>循环生成的，样式为<code>list-item</code>，此时如果要选中最后一个<code>list-item</code>，这时候需要通过<code>.list-item:last-child</code>来选中最后一个，而不能通过<code>container :last-child</code>来获取，注：上面的类似下图效果</p>
<p><img src="/../img/image-20221111102211144.png" alt="image-20221111102211144"></p>
<p>看着是差别不大，但实际上选中的东西效果完全不一样。所以<code>last-child</code>是进行同级的选中，选择同级的最后一个，告别父元素的思想。</p>
<p>在<code>sass</code>中，<code>&amp;:last-child</code>与<code>&amp; :last-child</code>也有区别</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.list-item-container</span> &#123;</span><br><span class="line">  &amp;<span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">    :<span class="built_in">deep</span>(.list-container) &#123;</span><br><span class="line">      <span class="attribute">border</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此时的可以等同于<code> &lt;element class=&#39;list-item-container&#39; :last-child&gt;</code>，如果中间加入了空格则：</p>
<img src="../img/image-20230131172742333.png" alt="image-20230131172742333" style="zoom: 67%;" />

<p>此外，如果父容器中有其他冗余class ，比如与<code>list-item-container</code>还有同级class<code>list-title</code>，此时<code>:last-child</code>便会失效，此时可以使用<code>:last-of-type</code>选择器实现同样效果</p>
<h4 id="8-keep-alive-和-onActived"><a href="#8-keep-alive-和-onActived" class="headerlink" title="8. keep-alive 和 onActived"></a>8. keep-alive 和 onActived</h4><p>如果希望某个组件保持原来的状态和数据，此时可以使用keep-alive，此时不会再次返回该页面的时候组件不会被销毁，也就是说组件不会重新请求数据。与其对应的<code>onActived</code>钩子函数只能在keep-alive包裹的组件中使用。当组件激活的时候就会进行回调。此时就可以使用它进行一些特有的数据更新，请求数据。</p>
<p>使用方法：可通过app.vue对keep-alive进行数组式绑定</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive :include=&quot;[&#x27;HomePage&#x27;,&#x27;Search&#x27;]&quot;&gt;</span><br><span class="line">	&lt;component :is=&quot;Component&quot; /&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure>

<p>之后通过额外的 <code>script</code>标签将实例进行应用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; defineComponent &#125; from &quot;vue&quot;;                                                          </span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  name: &quot;Search&quot;, //用于keep-alive缓存</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="9-element-ui-dialog-lable-无法右对齐"><a href="#9-element-ui-dialog-lable-无法右对齐" class="headerlink" title="9. element ui dialog lable 无法右对齐"></a>9. element ui dialog lable 无法右对齐</h4><p>将label-width 设为auto，label就会自适应标签的长度，但会默认右对齐(此时使用label-position&#x3D;”left”也无法改变对其方式) 详见：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43711639/article/details/120871114">element ui表单el-form的label自适应宽度并左对齐</a></p>
<h4 id="10-vant-轮播图无法自动轮播"><a href="#10-vant-轮播图无法自动轮播" class="headerlink" title="10.vant 轮播图无法自动轮播"></a>10.vant 轮播图无法自动轮播</h4><p>在挂载的时候通过手动调用官方提供的实例方法resizse()进行手动触发重绘</p>
<h4 id="11-样式穿透"><a href="#11-样式穿透" class="headerlink" title="11.样式穿透"></a>11.样式穿透</h4><p>vue3中可以使用<code>:deep(.el-drawer__header){}</code>选中组件的样式进行修改样式</p>
<p>vue2中使用<code>::v-deep .el-drawer__header {}</code>选中组件的样式进行修改样式</p>
<h4 id="12-vue2-ts中使用-ref"><a href="#12-vue2-ts中使用-ref" class="headerlink" title="12. vue2 ts中使用 ref"></a>12. vue2 ts中使用 ref</h4><p>以使用element ui 的el-input为例：</p>
<p>在vue2中使用ts跟原生的操作方法类似，区别就是需要指定ref的类型</p>
<p><code>import { ElInput } from &#39;element-ui/types/input&#39;;</code></p>
<p>此时的场景是</p>
<img src="../img/image-20221118111611008.png" alt="image-20221118111611008" style="zoom: 67%;" />

<p><code>await nextTick(()=&gt; {(this.$refs.inputRefas ElInput).focus();});</code></p>
<p>通过nextTick避免 出现undefine的错误（某些场景可能需要使用setTimeout）</p>
<h4 id="13-vue2-中从data中渲染图片"><a href="#13-vue2-中从data中渲染图片" class="headerlink" title="13.vue2 中从data中渲染图片"></a>13.vue2 中从data中渲染图片</h4><p>有时候需要从data中渲染出本地图片，此时可以通过</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      <span class="attr">label</span>: <span class="string">&#x27;用户数&#x27;</span>,</span><br><span class="line">      <span class="attr">url</span>: <span class="built_in">require</span>(<span class="string">&#x27;@/assets/operationStatistics/icon_user.png&#x27;</span>),</span><br><span class="line">      <span class="attr">count</span>: <span class="number">30358</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>通过require进行导入图片</p>
<h4 id="14-vue3-vite中从data中渲染图片"><a href="#14-vue3-vite中从data中渲染图片" class="headerlink" title="14. vue3 vite中从data中渲染图片"></a>14. vue3 vite中从data中渲染图片</h4><p>在vue3中没有 <code>require</code>，可以通过vite提供的方法进行渲染图片</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;测验任务&quot;</span>,</span><br><span class="line">    <span class="attr">icon</span>: <span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&quot;../../assets/home/icon_task.png&quot;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>).<span class="property">href</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>其中url路径必须是上述路径，不可以是<code>@/</code>，识别不出来，详情见 <a target="_blank" rel="noopener" href="https://cn.vitejs.dev/guide/assets.html">官方文档</a></p>
<h4 id="15-输入框中禁用空格"><a href="#15-输入框中禁用空格" class="headerlink" title="15. 输入框中禁用空格"></a>15. 输入框中禁用空格</h4><p><code>v-model.trim</code> 这是v-model的修饰符之一</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/guide/essentials/forms.html#lazy"><code>.lazy</code></a> ——监听 <code>change</code> 事件而不是 <code>input</code></li>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/guide/essentials/forms.html#number"><code>.number</code></a> ——将输入的合法符串转为数字</li>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/guide/essentials/forms.html#trim"><code>.trim</code></a> ——移除输入内容两端空格</li>
</ul>
<h4 id="16-input只能输入中文"><a href="#16-input只能输入中文" class="headerlink" title="16. input只能输入中文"></a>16. input只能输入中文</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-input</span><br><span class="line">	type=&quot;text&quot;</span><br><span class="line">	v-model=&quot;setKeyValue&quot;</span><br><span class="line">	ref=&quot;inputRef&quot;</span><br><span class="line">	@keyup.enter.native=&quot;handleSaveKey(scope.row)&quot;</span><br><span class="line">	:maxlength=&quot;4&quot;</span><br><span class="line">	@input=&quot;handleInputValue&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>

<p>核心的是<code>@input处理</code>handleInputValue</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleInputValue</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    value = value.<span class="title function_">replace</span>(<span class="regexp">/[^\u4e00-\u9fa5]/g</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">setKeyValue</span> = value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>另有其他输入的正则： <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_61570458/article/details/127573090?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2~default~AD_ESQUERY~yljh-1-127573090-blog-124410737.pc_relevant_3mothn_strategy_and_data_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~AD_ESQUERY~yljh-1-127573090-blog-124410737.pc_relevant_3mothn_strategy_and_data_recovery&utm_relevant_index=2">input限制输入正则大全</a></p>
<p>另外：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-input v-model=&quot;num&quot; oninput=&quot;value=value.replace(/^(0+)|[^\d]+/g,&#x27;&#x27;)&quot; &gt;&lt;/el-input&gt;</span><br></pre></td></tr></table></figure>

<p>上例为只能输入正整数</p>
<p>只能输入非负整数，且首位不能为0（意外收获，始终有默认值0，input框不会被清空）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleFormatAmout</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    value = value.<span class="title function_">replace</span>(<span class="regexp">/[^\d]/g</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (value.<span class="property">length</span> &gt; <span class="number">1</span> &amp;&amp; value[<span class="number">0</span>] == <span class="number">0</span>) &#123;</span><br><span class="line">      value = value.<span class="title function_">substr</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">setKeyValue</span> = value;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>只能输入数字和小数，保留两位小数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-input</span><br><span class="line">        v-model=&quot;subject.amount&quot;</span><br><span class="line">        oninput=&quot;value=value.replace(/^\D*(\d*(?:\.\d&#123;0,2&#125;)?).*$/g, &#x27;$1&#x27;)&quot;&gt;</span><br><span class="line">&lt;/el-input&gt;</span><br></pre></td></tr></table></figure>

<p>此时需要手动对<code>01</code>的情况进行单独校验，判断类型为字符串类型，获取到字符串的第一位和第二位进行判断和字符串总长度判断即可</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="17-下拉框选中的题型高亮"><a href="#17-下拉框选中的题型高亮" class="headerlink" title="17. 下拉框选中的题型高亮"></a>17. 下拉框选中的题型高亮</h4><img src="../img/image-20221125171741374.png" alt="image-20221125171741374" style="zoom: 50%;" />

<p>比如有如上需求，此时可以通过动态绑定class 来将选中的项目进行高亮展示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div</span><br><span class="line">     class=&quot;question-type-item&quot;</span><br><span class="line">     @click=&quot;handleTypeItemClick(index)&quot;</span><br><span class="line">     :class=&quot;&#123; activeItem: queryObj.questionTypeId === index &#125;&quot;</span><br><span class="line">     &gt;</span><br><span class="line">    &#123;&#123; questionTypeObj[index] &#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>此时通过比较选中的项的index与当前vfor渲染的index</p>
<h4 id="18-withDefaults-中传入对象"><a href="#18-withDefaults-中传入对象" class="headerlink" title="18. withDefaults()中传入对象{}"></a>18. withDefaults()中传入对象{}</h4><p>例如：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Props</span> &#123;</span><br><span class="line">  <span class="attr">courseList</span>: &#123;</span><br><span class="line">    <span class="attr">courseCover</span>: <span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">courseName</span>: <span class="built_in">string</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> props = <span class="title function_">withDefaults</span>(defineProps&lt;<span class="title class_">Props</span>&gt;(), &#123;</span><br><span class="line">  courseList : <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">courseCover</span>:  <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">courseName</span>: <span class="string">&#x27;空&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>此时需要传入箭头函数，此时必须要加入<code>()</code>，不然对象的<code>{}</code>会与箭头函数返回的包裹<code>{}</code>冲突</p>
<h4 id="19-纯文本内容保持原有换行"><a href="#19-纯文本内容保持原有换行" class="headerlink" title="19. 纯文本内容保持原有换行"></a>19. 纯文本内容保持原有换行</h4><p>此时可以使用<code>&lt;pre/&gt;</code>标签空白会被浏览器保留，此时pre中的内容会保留原有的换行，但是超过长度不会进行自动换行，此时</p>
<p>添加样式：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pre &#123;</span><br><span class="line"><span class="attribute">white-space</span>: pre-wrap;</span><br><span class="line"><span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="20-获取ref的type"><a href="#20-获取ref的type" class="headerlink" title="20. 获取ref的type"></a>20. 获取ref的type</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> learnListRef1 = $ref&lt;<span class="keyword">typeof</span> <span class="title class_">LearningList</span>&gt;()</span><br><span class="line">                           </span><br><span class="line"><span class="comment">// 不建议使用 type LearningListType = InstanceType&lt;typeof LearningList&gt;</span></span><br><span class="line"><span class="comment">// const learnListRef = ref(&#123;&#125; as LearningListType)</span></span><br><span class="line">                           </span><br><span class="line"><span class="comment">// !!更新 vue3已支持InstanceType 建议使用下面版本 可以获取很好的代码补全体验</span></span><br><span class="line"><span class="keyword">const</span> tabRef = ref&lt;<span class="title class_">InstanceType</span>&lt;<span class="keyword">typeof</span> tabTable&gt;&gt;();                           </span><br></pre></td></tr></table></figure>

<h4 id="21-项目中使用icon"><a href="#21-项目中使用icon" class="headerlink" title="21. 项目中使用icon"></a>21. 项目中使用icon</h4><ul>
<li><p>使用iconfont的icon方案</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">icon-font</span> <span class="attr">iconName</span>=<span class="string">&quot;icon_pack_up_kc&quot;</span> /&gt;</span> // 指定iconName 为项目中的icon名</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用组件库的icon方案</p>
</li>
<li><p>下载icon，svg图片</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg-icon</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">name</span>=<span class="string">&quot;icon_pf_star&quot;</span> /&gt;</span> // 指定name为svg的名字</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="22-谷歌浏览器排坑"><a href="#22-谷歌浏览器排坑" class="headerlink" title="22. 谷歌浏览器排坑"></a>22. 谷歌浏览器排坑</h4><ul>
<li>api.now is not a function 重启谷歌浏览器</li>
</ul>
<h4 id="23-懒加载的坑-多次触底"><a href="#23-懒加载的坑-多次触底" class="headerlink" title="23. 懒加载的坑(多次触底)"></a>23. 懒加载的坑(多次触底)</h4><p>懒加载组件可能会触发多次触底事件，原因为</p>
<ul>
<li>请求的数据渲染的高度不够，没法填满整个屏幕</li>
<li>loading，设为true的时候表示正在加载，此时不会触发触底事件，当数据渲染之后需要手动将其设置为false，所以如果会多次触发触底事件，说明可能是&#x3D;&#x3D;设为false&#x3D;&#x3D;的loading放在了渲染数据之前，导致会多次渲染，此时可以可以将loading置为false的操作放在&#x3D;&#x3D;nextTick()&#x3D;&#x3D;之后。</li>
</ul>
<h4 id="24-vue-mixins的使用"><a href="#24-vue-mixins的使用" class="headerlink" title="24.  vue mixins的使用"></a>24.  vue mixins的使用</h4><p> 以分页组件为例，如果要使用mixins，首先需要定义一个接口类型，该接口包括了混入预计希望的字段与方法，例：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">ITablePagination</span> &#123;</span><br><span class="line">  <span class="attr">tableData</span>: <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;;</span><br><span class="line">  <span class="attr">page</span>: &#123;</span><br><span class="line">    <span class="attr">pageNo</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="attr">pageSize</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="attr">total</span>: <span class="built_in">number</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="attr">onSizeChange</span>: <span class="title class_">Function</span>;</span><br><span class="line">  <span class="attr">onCurrentChange</span>: <span class="title class_">Function</span>;</span><br><span class="line">  <span class="attr">pageTableIndex</span>: <span class="title class_">Function</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此时定义了两个字段和三个方法，接着就需要在另一个ts文件中去实现这个接口。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; pageTableIndex &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/common&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span>, <span class="title class_">Vue</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-property-decorator&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Pagination</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/pagination/index.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ITablePagination</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/interface/pagination&#x27;</span>;</span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;PageTable&#x27;</span>,</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="title class_">Pagination</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">PageTable</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Vue</span> <span class="keyword">implements</span> <span class="title class_">ITablePagination</span> &#123;</span><br><span class="line">  tableData = [];</span><br><span class="line">  page = &#123;</span><br><span class="line">    <span class="attr">pageNo</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">pageSize</span>: <span class="number">10</span>,</span><br><span class="line">    <span class="attr">total</span>: <span class="number">0</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="title function_">onSizeChange</span>(<span class="params">v</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">page</span>.<span class="property">pageNo</span> = <span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">page</span>.<span class="property">pageSize</span> = v;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">onSearch</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">onCurrentChange</span>(<span class="params">v</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">page</span>.<span class="property">pageNo</span> = v;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">onSearch</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">pageTableIndex</span>(<span class="params">v</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; pageNo, pageSize &#125; = <span class="variable language_">this</span>.<span class="property">page</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">pageTableIndex</span>(pageNo, pageSize, v);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">onSearch</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里面多一个额外的onSearch方法，因为接口的实现是可以多写但是不能少写</p>
<p>接着就是使用该mixins,在父组件中引入该js，之后可以按照正常方式使用组件、在mixins中定义的字段和方法会绑定在vue的实例上（this），如果父组件定义了与mixins相同命名的字段，字段值以父组件的，mixins的值不会覆盖。例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import &#123; PageTable &#125; from &#x27;@/mixins/Pagination&#x27;;</span><br><span class="line">import &#123; Component, Mixins &#125; from &#x27;vue-property-decorator&#x27;;</span><br><span class="line">&lt;pagination</span><br><span class="line">        class=&quot;mt20&quot;</span><br><span class="line">        :current-page=&quot;page.pageNo&quot;</span><br><span class="line">        :page-size=&quot;page.pageSize&quot;</span><br><span class="line">        :total=&quot;page.total&quot;</span><br><span class="line">        @size-change=&quot;onSizeChange&quot;</span><br><span class="line">        @current-change=&quot;onCurrentChange&quot;</span><br><span class="line">&gt;&lt;/pagination&gt;</span><br><span class="line">export default class TableCourse extends Mixins(PageTable) &#123;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="25-文件下载"><a href="#25-文件下载" class="headerlink" title="25. 文件下载"></a>25. 文件下载</h4><ul>
<li>通过调接口接收到字节流</li>
<li>通过Blob对象，将字节流转化为Blob二进制</li>
<li>通过<code>URL.createObjectURL(blob)</code>生成下载链接</li>
<li>动态生成a标签，绑定该下载地址，调用点击事件进行下载</li>
</ul>
<p>update uniapp踩坑记录</p>
<p>uniapp通过后端返回字节流下载zip</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="title function_">handleDownload</span>(<span class="params">file</span>) &#123;</span><br><span class="line">				uni.<span class="title function_">request</span>(&#123;</span><br><span class="line">					<span class="attr">url</span>: <span class="string">&#x27;/api/iExam7_2_zunyi_Web/iexam/zunyi/ZxnrAction/downloadFuJianH5.do&#x27;</span>,</span><br><span class="line">					<span class="attr">method</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">					<span class="attr">data</span>: &#123;</span><br><span class="line">						<span class="attr">fileNames</span>: [file],</span><br><span class="line">						<span class="attr">zxnrid</span>: <span class="string">&quot;368&quot;</span></span><br><span class="line">					&#125;,</span><br><span class="line">					<span class="attr">header</span>: &#123;</span><br><span class="line">						<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">					&#125;,</span><br><span class="line">					<span class="attr">responseType</span>: <span class="string">&#x27;arrayBuffer&#x27;</span>,</span><br><span class="line">					<span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">						<span class="keyword">if</span> (res.<span class="property">statusCode</span> === <span class="number">200</span>) &#123;</span><br><span class="line">							<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;res&#x27;</span>, res.<span class="property">statusCode</span>, res.<span class="property">data</span>)</span><br><span class="line">							<span class="comment">// 从响应头中获取文件类型</span></span><br><span class="line">							<span class="keyword">const</span> contentType = res.<span class="property">header</span>[<span class="string">&#x27;content-type&#x27;</span>];</span><br><span class="line">							<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;contentType&#x27;</span>,contentType,res.<span class="property">header</span>)</span><br><span class="line">							<span class="keyword">const</span> aLink = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">							<span class="keyword">var</span> blob = <span class="keyword">new</span> <span class="title class_">Blob</span>([res.<span class="property">data</span>], &#123;</span><br><span class="line">								<span class="attr">type</span>: contentType</span><br><span class="line">							&#125;)</span><br><span class="line">							<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;看看blob&#x27;</span>,blob)</span><br><span class="line">							<span class="comment">// 从response的headers中获取filename, 后端response.setHeader(&quot;Content-disposition&quot;, &quot;attachment; filename=xxxx.docx&quot;) 设置的文件名;</span></span><br><span class="line">							<span class="keyword">var</span> patt = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;filename=([^;]+\\.[^\\.;]+);*&#x27;</span>)</span><br><span class="line">							<span class="keyword">var</span> contentDisposition = <span class="built_in">decodeURI</span>(res.<span class="property">header</span>[<span class="string">&#x27;content-disposition&#x27;</span>])</span><br><span class="line">							<span class="keyword">var</span> result = patt.<span class="title function_">exec</span>(contentDisposition)</span><br><span class="line">							<span class="keyword">var</span> fileName = result[<span class="number">1</span>]</span><br><span class="line">							fileName = fileName.<span class="title function_">replace</span>(<span class="regexp">/\&quot;/g</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">							aLink.<span class="property">href</span> = <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(blob)</span><br><span class="line">							aLink.<span class="title function_">setAttribute</span>(<span class="string">&#x27;download&#x27;</span>, fileName) <span class="comment">// 设置下载文件名称</span></span><br><span class="line">							<span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(aLink)</span><br><span class="line">							aLink.<span class="title function_">click</span>()</span><br><span class="line">							<span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(aLink);</span><br><span class="line">							<span class="variable constant_">URL</span>.<span class="title function_">revokeObjectURL</span>(aLink.<span class="property">href</span>);</span><br><span class="line">						&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">							<span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;下载失败&#x27;</span>));</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;,</span><br><span class="line">					<span class="attr">fail</span>: <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">						<span class="title function_">reject</span>(err);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;);</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure>

<p>遇到问题：下载的文件损坏或者打不开，文件大小不正常，内容为乱码，与返回的字节流大小相同</p>
<p>通过postman排查可以正常下载，且文件大小为返回数据的二分之一，排除后端返回问题</p>
<p>经过多次排查，发现不是 <code>new Blob()</code>的type设置问题，重点是需要确保 <code>responseType: &#39;arrayBuffer&#39;</code>，之前的responseType一直都是Blob</p>
<p>之后就清晰了，去网上查询相关材料发现，&#x3D;&#x3D;uniapp不支持blob格式&#x3D;&#x3D;，所以请求的时候需要保证<code>responseType</code>为<code>arrayBuffer</code>;</p>
<p>另外就是需要通过响应头<code>content-disposition</code>获取到正确的<code>fileName</code>，保证文件的类型与文件名正确展示;</p>
<p>arrayBuffer与blob都是可以通过 new blob()进行处理的</p>
<h4 id="26-对象数组去重"><a href="#26-对象数组去重" class="headerlink" title="26. 对象数组去重"></a>26. 对象数组去重</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@description</span>: 对象数组去重</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; arr 去重对象</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; uniId 根据什么去重</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> &#123;<span class="type">*</span>&#125;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">uniqueFunc</span>(<span class="params">arr, uniId</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> !res.<span class="title function_">has</span>(item[uniId]) &amp;&amp; res.<span class="title function_">set</span>(item[uniId], <span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>原文：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6984625612937773070">js对象数组去重的三种方法</a></p>
<h4 id="27-删除数组中指定对象"><a href="#27-删除数组中指定对象" class="headerlink" title="27. 删除数组中指定对象"></a>27. 删除数组中指定对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> index = arr.<span class="title function_">indexOf</span>(arr.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">id</span> === obj.<span class="property">id</span>)[<span class="number">0</span>]);</span><br><span class="line">arr.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p>原文：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42543244/article/details/122281545">js 数组内删除某个对象（或确定该对象索引值）</a></p>
<h4 id="28-vue2-中-中使用-import-的方法"><a href="#28-vue2-中-中使用-import-的方法" class="headerlink" title="28. vue2 中 {{ }} 中使用 import 的方法"></a>28. vue2 中 {{ }} 中使用 import 的方法</h4><p>import 的方法需要在实例中进行引用，比如</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dateFormatter = dateFormatter; <span class="comment">// vue2+ts</span></span><br><span class="line"><span class="comment">// vue2+js</span></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    dateFormatter,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="29-卡片css排列方案"><a href="#29-卡片css排列方案" class="headerlink" title="29. 卡片css排列方案"></a>29. 卡片css排列方案</h4><p>有的需求是需要一行排列4个卡片，此时就不能对每个卡片设置padding值，此时可以使用</p>
<h5 id="该方案已废除！详情实现见34-列表固定间距"><a href="#该方案已废除！详情实现见34-列表固定间距" class="headerlink" title="&#x3D;&#x3D;该方案已废除！详情实现见34.列表固定间距&#x3D;&#x3D;"></a>&#x3D;&#x3D;该方案已废除！详情实现见34.列表固定间距&#x3D;&#x3D;</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&amp;<span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>n+<span class="number">1</span>)&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对所有卡片设置边距，然后清除4为倍数的卡片边距即可</p>
<h4 id="30-v-show-与-el-cascader-的坑"><a href="#30-v-show-与-el-cascader-的坑" class="headerlink" title="30. v-show 与 el-cascader 的坑"></a>30. v-show 与 el-cascader 的坑</h4><p>v-show每次展示的时候都会触发cascader的change事件，同时会清除cascader绑定的值</p>
<p>而v-if就不会，原因是el-cascader的问题，重新渲染组件可以解决。所以不能使用v-show，或者绑定key，当key改变的时候，该组件就会重新渲染。</p>
<h4 id="31-css设定超出宽度展示…"><a href="#31-css设定超出宽度展示…" class="headerlink" title="31. css设定超出宽度展示…"></a>31. css设定超出宽度展示…</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">overflow</span>: hidden;</span><br><span class="line"><span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line"><span class="attribute">white-space</span>: nowrap;</span><br></pre></td></tr></table></figure>

<p>或者使用flex布局，不指定宽度</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.flex</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="selector-class">.left</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.right</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> auto;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>css多行超出显示省略号</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.text</span> &#123;</span><br><span class="line">   <span class="attribute">overflow</span>: hidden;</span><br><span class="line">   <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">   <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">   -webkit-<span class="attribute">box-orient</span>: vertical;</span><br><span class="line">   -webkit-<span class="selector-tag">line</span>-clamp: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="32-ckeditor5使用方法"><a href="#32-ckeditor5使用方法" class="headerlink" title="32. ckeditor5使用方法"></a>32. ckeditor5使用方法</h4><ol>
<li><p>选择目前需要的编辑器类型，目前可选择的有五种：</p>
<ul>
<li><p>Classic editor（经典类型）</p>
</li>
<li><p>Inline editor（行内）</p>
</li>
<li><p>Balloon editor（浮动展示）</p>
</li>
<li><p>Ballon block editor（浮动块级展示）</p>
</li>
<li><p>Document editor（文档类型）</p>
</li>
</ul>
</li>
<li><p>下载ckeditor5构建文件</p>
<ul>
<li>预定义方式，可扩展性差，仅做例子展示使用</li>
<li>Online builder 在线构建器，通过使用直观的ui来选择需要的功能，之后打包成zip文件下载，此时需要从五种编辑器类型中选择其一。</li>
<li>zip download 下载，没用过</li>
</ul>
</li>
<li><p>使用Online builder 选择需要的功能之后下载</p>
<ul>
<li><p>以第二步选择 Classic editor（经典类型）为例，安装 CKEditor5 WYSIYG 编辑组件和当前的编辑器构建工具</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save @ckeditor/ckeditor5-vue2 @ckeditor/ckeditor5-build-classic</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用ES6 modules </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">CKEditor</span> <span class="keyword">from</span> <span class="string">&#x27;@ckeditor/ckeditor5-vue2&#x27;</span>;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>( <span class="title class_">CKEditor</span> );</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;ckeditor :editor=&quot;editor&quot; v-model=&quot;editorData&quot; :config=&quot;editorConfig&quot;&gt;&lt;/ckeditor&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import ClassicEditor from &#x27;@ckeditor/ckeditor5-build-classic&#x27;;</span><br><span class="line"></span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &#x27;app&#x27;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                editor: ClassicEditor,</span><br><span class="line">                editorData: &#x27;&lt;p&gt;Content of the editor.&lt;/p&gt;&#x27;,</span><br><span class="line">                editorConfig: &#123;</span><br><span class="line">                    // The configuration of the editor.</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h4 id="33-ckeditor4-增加音频"><a href="#33-ckeditor4-增加音频" class="headerlink" title="33. ckeditor4 增加音频"></a>33. ckeditor4 增加音频</h4><p>基本流程与ckeditor5类似，不需要对ckeditorConfig做其他的配置就可以正常使用</p>
<p>如果希望音频插件可以使用文件上传则需要提供文件上传地址</p>
<blockquote>
<p>By default CKEditor does not include a file browser or uploader. The “Browse server” and “Upload” tabs need server side code to work so they don’t appear if there is no file browser or uploader.</p>
</blockquote>
<p>默认上传tab页是不做显示的，如果想要显示需要有upload，进行上传，此时可以使用ckfinder，也可以直接增加属性<code>filebrowserUploadUrl</code>，指定文件上传地址。此时文件上传就会自动将文件上传到该地址，然后将url进行回显。</p>
<h4 id="34-列表固定间距-flex-gap"><a href="#34-列表固定间距-flex-gap" class="headerlink" title="34. 列表固定间距 flex gap"></a>34. 列表固定间距 flex gap</h4><p>有很多场景，需要每个卡片在一个容器中按照间隙进行排列，此时对他们设置边距是不合理的，这种排列方式并不能自适应浏览器窗口。此时可以使用flex gap</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.card-list</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">gap</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="35-slot-scope"><a href="#35-slot-scope" class="headerlink" title="35. slot-scope"></a>35. slot-scope</h4><p>在vue2.5之前，作用域插槽是用<code>slot-scope</code>的，在vue2.6之后引入新的指令<code>v-slot</code>，同时可以简写代码<code>#defalut=&#39;{ scope }&#39;</code>，相较于以前<code>slot-scope=&#39;{ scope }&#39;</code></p>
<h4 id="36-搜索关键词高亮"><a href="#36-搜索关键词高亮" class="headerlink" title="36. 搜索关键词高亮"></a>36. 搜索关键词高亮</h4><p>预期效果如图：<img src="../img/image-20221219113844500.png" alt="image-20221219113844500" style="zoom:33%;" /></p>
<p>该效果的实现思路是通过正则表达式检索出关键词，之后将关键词替换为带有颜色的span标签，之后通过<code>v-html</code></p>
<p>进行渲染</p>
<p>首先设置v-html</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h4 class=&quot;main-title&quot; v-html=&quot;courseTilte&quot; &gt;&lt;/h4&gt;</span><br></pre></td></tr></table></figure>

<p>字体高亮函数</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: 字体高亮显示</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; result 包含关键词的内容</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; keyword 关键词</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">*</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useBrightenKeyword</span> = (<span class="params"><span class="attr">result</span>:<span class="built_in">string</span>, <span class="attr">keyword</span>:<span class="built_in">string</span></span>) =&gt;&#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title class_">Reg</span> = <span class="keyword">new</span> <span class="title class_">RegExp</span>(keyword, <span class="string">&#x27;i&#x27;</span>)</span><br><span class="line">  <span class="keyword">let</span> res = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span> (result) &#123;</span><br><span class="line">    res = result.<span class="title function_">replace</span>(<span class="title class_">Reg</span>, <span class="string">`&lt;span style=&quot;color: #38BBA9;&quot;&gt;<span class="subst">$&#123;keyword&#125;</span>&lt;/span&gt;`</span>)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>请求到结果之后对关键词内容进行处理</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">resultList.<span class="property">data</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params"><span class="attr">element</span>:<span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">    element.<span class="property">courseName</span> = <span class="title function_">useBrightenKeyword</span>(element.<span class="property">courseName</span>, inputValue)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="37-el-pagination-个数选择器重置"><a href="#37-el-pagination-个数选择器重置" class="headerlink" title="37. el pagination 个数选择器重置"></a>37. el pagination 个数选择器重置</h4><p>在dialog的 分页组件，dialog被关闭的时候不会被销毁，所以里面的数据都会被保留，此时只能通过手动进行重置，但是el-pagination 是无法手动去改变个数选择器的，所以只能通过修改<code>key</code>的方式，让该组件重新渲染。</p>
<p>比如在dialog关闭的时候触发回调<code>handleCloseDialog</code></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleCloseDialog</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">studentTableData</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">pageNo</span> = <span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">pageSize</span> = <span class="number">10</span>;</span><br><span class="line">    <span class="comment">// 改变key值</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dialogKey</span> = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="38-div实现聚焦失焦"><a href="#38-div实现聚焦失焦" class="headerlink" title="38. div实现聚焦失焦"></a>38. div实现聚焦失焦</h4><p>使用场景：手写的input下拉框，因为div没有聚焦<code>focus</code>失焦<code>blur</code>事件，所以需要进行设置</p>
<p>实现效果：<img src="../img/image-20221223101931107.png" alt="image-20221223101931107" style="zoom:33%;" /></p>
<ul>
<li><p>首先select框是通过v-if进行显示隐藏的通过判断<code>isShowCascader</code>的值，对select框容器添加<code>tabindex=&#39;0&#39;</code>即可让该容器获得聚焦失焦的效果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;div</span><br><span class="line">     class=&quot;cascader-container&quot;</span><br><span class="line">     v-if=&quot;isShowCascader&quot;</span><br><span class="line">     @click=&quot;handleClick&quot;</span><br><span class="line">     &gt;</span><br><span class="line">    &lt;div</span><br><span class="line">         class=&quot;cascader-switch&quot;</span><br><span class="line">         @focus=&quot;handleFocus&quot;</span><br><span class="line">         @blur=&quot;handleBlur&quot;</span><br><span class="line">         tabindex=&quot;0&quot;</span><br><span class="line">         ref=&quot;cascaderContainerRef&quot;</span><br><span class="line">         &gt;</span><br><span class="line">          &lt;span&gt;包含下层机构&lt;/span&gt;</span><br><span class="line">          &lt;el-switch</span><br><span class="line">            v-model=&quot;switchValue&quot;</span><br><span class="line">            active-color=&quot;#24c2b9&quot;</span><br><span class="line">            inactive-color=&quot;#d6d6d6&quot;</span><br><span class="line">          &gt;</span><br><span class="line">          &lt;/el-switch&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;el-cascader-panel</span><br><span class="line">          :options=&quot;businessOptions&quot;</span><br><span class="line">          @change=&quot;handleCascaderChange&quot;</span><br><span class="line">          ref=&quot;cascaderRef&quot;</span><br><span class="line">          :props=&quot;businessProps&quot;</span><br><span class="line">          v-model=&quot;cascaderChoose&quot;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;template slot-scope=&quot;&#123; data &#125;&quot;&gt;</span><br><span class="line">            &lt;Ellipsis</span><br><span class="line">              class=&quot;tooltips-container&quot;</span><br><span class="line">              :wordsMax=&quot;9&quot;</span><br><span class="line">              :text=&quot;data.label&quot;</span><br><span class="line">            /&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!-- &#123;&#123; data.label &#125;&#125; --&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">    &lt;/el-cascader-panel&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过watch，当select框展示的时候就绑定<code>focus</code>，进行手动聚焦</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Watch</span>(<span class="string">&#x27;isShowCascader&#x27;</span>) <span class="title function_">handleCascaderBlur</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">isShowCascader</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;绑定focus&#x27;</span>);</span><br><span class="line">        (<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">cascaderContainerRef</span> <span class="keyword">as</span> <span class="title class_">HTMLInputElement</span>).<span class="title function_">focus</span>();</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;this.siw&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>因为预料外的原因，暂时把focus绑定在了开关上，因为绑定在父级容器上，聚焦还是只能聚焦在开关上（原因未知），所以此时点击下面的select框的时候会触发失焦，失焦就会隐藏select框，此时需要对失焦事件进行一些边界判断</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleBlur</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> targetArr = [</span><br><span class="line">        <span class="string">&#x27;el-cascader-node__label&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;el-scrollbar__view el-cascader-menu__list&#x27;</span></span><br><span class="line">      ];</span><br><span class="line">      <span class="keyword">if</span> (!targetArr.<span class="title function_">includes</span>(<span class="variable language_">this</span>.<span class="property">currentTargetName</span>)) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">isShowCascader</span> = <span class="literal">false</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          (<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">cascaderContainerRef</span> <span class="keyword">as</span> <span class="title class_">HTMLInputElement</span>).<span class="title function_">focus</span>();</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">currentTargetName</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;, <span class="number">150</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>select框使用了饿了么ui的级联选择器，此时通过在父容器绑定点击事件，获取到点击的target对象，对对象进行排除判断，不能点击到select框的选项也失焦。这里面使用了一个&#x3D;&#x3D;setTimeout&#x3D;&#x3D;方法，因为会优先触发<code>blur</code>事件，然后才会触发<code>click</code>事件，所以需要进行延时保证click事件触发成功。&#x3D;&#x3D;延时时间根据每个电脑原因可能各不相同&#x3D;&#x3D;</p>
</li>
<li><p>增加边界判断，如果点击到select框阻止隐藏</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleClick</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> targetName =</span><br><span class="line">      target.<span class="property">path</span>[<span class="number">0</span>].<span class="property">className</span> == <span class="string">&#x27;&#x27;</span></span><br><span class="line">        ? target.<span class="property">path</span>[<span class="number">2</span>].<span class="property">className</span></span><br><span class="line">        : target.<span class="property">path</span>[<span class="number">0</span>].<span class="property">className</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;click&#x27;</span>, targetName);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">currentTargetName</span> = targetName;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>通过增加targetName来为blur事件回调判断点击事件究竟点击到了哪里，找到容器target的共同点通过className进行判断</p>
</li>
</ul>
<h4 id="39-vue-config-js"><a href="#39-vue-config-js" class="headerlink" title="39. vue.config.js"></a>39. vue.config.js</h4><p>Vue cli的cli service提供了<code>defineConfig</code>的方法，用于</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">transpileDependencies</span>: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>defineConfig可获得更好的代码提示，与不通过该工具函数用法差别不大</p>
<h4 id="40-git-clone-报错-ssh-Could-not-resolve-hostname"><a href="#40-git-clone-报错-ssh-Could-not-resolve-hostname" class="headerlink" title="40. git clone 报错 ssh: Could not resolve hostname"></a>40. git clone 报错 ssh: Could not resolve hostname</h4><p>可以首先<code>ping</code>一下该hostname，让hosts缓存该hostname，再进行git clone</p>
<h4 id="41-清空数组"><a href="#41-清空数组" class="headerlink" title="41. 清空数组"></a>41. 清空数组</h4><p><code>arr.splice(0)</code></p>
<h4 id="42-树形结构过滤关键词"><a href="#42-树形结构过滤关键词" class="headerlink" title="42. 树形结构过滤关键词"></a>42. 树形结构过滤关键词</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">getDatas</span> = (<span class="params">lists</span>) =&gt; &#123;</span><br><span class="line">      <span class="keyword">const</span> filters = [];</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; lists.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> item = lists[i];</span><br><span class="line">        <span class="keyword">if</span> (item.<span class="property">label</span>.<span class="title function_">includes</span>(<span class="variable language_">this</span>.<span class="property">searchKeyWords</span>)) &#123;</span><br><span class="line">          filters.<span class="title function_">push</span>(item);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item.<span class="property">children</span>) &#123;</span><br><span class="line">          <span class="keyword">const</span> children = <span class="title function_">getDatas</span>(item.<span class="property">children</span>);</span><br><span class="line">          <span class="keyword">if</span> (children.<span class="property">length</span>) &#123;</span><br><span class="line">            filters.<span class="title function_">push</span>(&#123; ...item, <span class="attr">children</span>: children &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> filters;</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>

<h4 id="43-请求类型-body-与-query"><a href="#43-请求类型-body-与-query" class="headerlink" title="43. 请求类型 body 与 query"></a>43. 请求类型 body 与 query</h4><p>body放在 data里面 query 放在 params里面</p>
<h4 id="44-两边分布布局"><a href="#44-两边分布布局" class="headerlink" title="44. 两边分布布局"></a>44. 两边分布布局</h4><p>例如：<img src="../img/image-20230201095551694.png" alt="image-20230201095551694" style="zoom:50%;" /></p>
<p>可以使用flex 弹性布局，但是左方的div可能会因为右方div长度过大而造成换行，此时可以对其设置不换行</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.study-time</span> &#123;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="45-Map的用法，通过键值对更优雅的写法"><a href="#45-Map的用法，通过键值对更优雅的写法" class="headerlink" title="45. Map的用法，通过键值对更优雅的写法"></a>45. Map的用法，通过键值对更优雅的写法</h4><p>有的场景是 需要设置icon，但是多个状态会重复对应一个icon，如果通过对象的键值对进行编写，如下</p>
<img src="../img/image-20230202104426086.png" alt="image-20230202104426086" style="zoom:50%;" />

<p>代码会很长很难看，而且可读性很差，此时可以使用Map()</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">iconNameFormat</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> m = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">    [[<span class="string">&#x27;进行中&#x27;</span>,<span class="string">&#x27;考试中&#x27;</span>,<span class="string">&#x27;学习中&#x27;</span>,<span class="string">&#x27;待考试&#x27;</span>,<span class="string">&#x27;待补考&#x27;</span>,<span class="string">&#x27;未开始&#x27;</span>,<span class="string">&#x27;未开播&#x27;</span>,<span class="string">&#x27;未学习&#x27;</span>,<span class="string">&#x27;未提交&#x27;</span>,<span class="string">&#x27;已提交&#x27;</span>,<span class="string">&#x27;已交卷&#x27;</span>],<span class="string">&#x27;icon_ddz&#x27;</span>],</span><br><span class="line">    [[<span class="string">&#x27;直播中&#x27;</span>],<span class="string">&#x27;icon_zb_zbz&#x27;</span>],</span><br><span class="line">    [[<span class="string">&#x27;未通过&#x27;</span>,<span class="string">&#x27;未完成&#x27;</span>,<span class="string">&#x27;未参与&#x27;</span>,<span class="string">&#x27;未参加&#x27;</span>],<span class="string">&#x27;icon_wtg&#x27;</span>],</span><br><span class="line">    [[<span class="string">&#x27;已批阅&#x27;</span>,<span class="string">&#x27;已参与&#x27;</span>,<span class="string">&#x27;已学完&#x27;</span>,<span class="string">&#x27;已完成&#x27;</span>,<span class="string">&#x27;已通过&#x27;</span>],<span class="string">&#x27;icon_ywc&#x27;</span>],</span><br><span class="line">    [[<span class="string">&#x27;已结束&#x27;</span>],<span class="string">&#x27;icon_end&#x27;</span>]</span><br><span class="line">  ])</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">const</span> [key,value] <span class="keyword">of</span> m.<span class="title function_">entries</span>()) &#123;</span><br><span class="line">    <span class="keyword">if</span>(key.<span class="title function_">includes</span>(taskState.<span class="property">value</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span> value</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以将代码从20余行缩短为10余行</p>
<h4 id="46-背景图片固定铺满浏览器-不随内容滚动"><a href="#46-背景图片固定铺满浏览器-不随内容滚动" class="headerlink" title="46. 背景图片固定铺满浏览器(不随内容滚动)"></a>46. 背景图片固定铺满浏览器(不随内容滚动)</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">@/assets/home/IMG_0020.jpg</span>) no-repeat;</span><br><span class="line"><span class="attribute">background-size</span>: cover;</span><br><span class="line"><span class="attribute">background-attachment</span>: fixed;</span><br></pre></td></tr></table></figure>

<h4 id="47-el-upload-上传文件报404"><a href="#47-el-upload-上传文件报404" class="headerlink" title="47. el-upload 上传文件报404"></a>47. el-upload 上传文件报404</h4><p>需要填写 http-request属性，覆盖默认的上传行为，详情见原文 <a target="_blank" rel="noopener" href="https://blog.csdn.net/honeymoon_/article/details/122966219">element ui el-upload上传文件报404</a></p>
<h4 id="48-El-form-label-自适应长度"><a href="#48-El-form-label-自适应长度" class="headerlink" title="48. El form label 自适应长度"></a>48. El form label 自适应长度</h4><p>在使用组件写表单的时候，会经常使用到label 与input ，当有种场景label长度并不固定的时候，此时需要对label进行自适应，但是对<code>el-form-item</code>设置<code>label-width=&#39;auto&#39;</code>的时候，还是会出现<code>label</code>与<code>input</code>不在同一行的情况，可以使用<code>flex</code>布局</p>
<p><code>&lt;template #label&gt;{{ domain.label }}&lt;/template&gt;</code>将label通过插槽写出来，对父容器用flex布局，</p>
<p>此时label与input框就会在同一行，但是input框可能不会占满整行，通过</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">::v-deep .el-form-item__content &#123; // vue2写法</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对input容器设置flex:2,让他默认占满剩余容器就可以了</p>
<p><a target="_blank" rel="noopener" href="https://ect-iflytek-dev.oss-cn-shenzhen.aliyuncs.com/test/persistent/image/68d6eddc408a4578b6784e6a615c26be.png">https://ect-iflytek-dev.oss-cn-shenzhen.aliyuncs.com/test/persistent/image/68d6eddc408a4578b6784e6a615c26be.png</a></p>
<h4 id="49-对有默认参数的回调函数添加自定义参数"><a href="#49-对有默认参数的回调函数添加自定义参数" class="headerlink" title="49. 对有默认参数的回调函数添加自定义参数"></a>49. 对有默认参数的回调函数添加自定义参数</h4><p>通过<code>$event</code>来表示默认参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Switch v-model=&quot;switch1&quot; @on-change=&quot;change($event,myData)&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h4 id="50-合并两个对象"><a href="#50-合并两个对象" class="headerlink" title="50. 合并两个对象"></a>50. 合并两个对象</h4><ol>
<li>通过<code>Object.assign(obj1,obj2)</code>将obj2合并到obj1中</li>
<li>通过lodash库中的extend方法</li>
</ol>
<h4 id="51-Vue-for循环的key"><a href="#51-Vue-for循环的key" class="headerlink" title="51. Vue for循环的key"></a>51. Vue for循环的key</h4><p>如果是有引入eslint的话，key是必须要加的，在循环中如果不加key的话，如果存在将for循环的每个小项进行改移动，或者删除的话，就可能会发生意料之外的错误</p>
<h4 id="52-响应式排错"><a href="#52-响应式排错" class="headerlink" title="52. 响应式排错"></a>52. 响应式排错</h4><p>有时候代码会没有响应式，此时可以但因出来这个值，看有没有Observer属性，vue的响应式通过Observer属性进行对其他属性进行监听，修改后进行更新视图</p>
<h4 id="53-配置-ref语法糖"><a href="#53-配置-ref语法糖" class="headerlink" title="53. 配置$ref语法糖"></a>53. 配置$ref语法糖</h4><p>在<code>vite.config.ts</code>中添加</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vue(<span class="punctuation">&#123;</span></span><br><span class="line">     reactivityTransform<span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">// 启用响应式语法糖$ref $computed $toRef</span></span><br><span class="line">   <span class="punctuation">&#125;</span>)</span><br></pre></td></tr></table></figure>

<p>此时已经可以使用语法糖了，但是编辑器会报错</p>
<p>配置<code>tsconfig.json</code></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">&quot;types&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;vue/ref-macros&quot;</span><span class="punctuation">]</span> </span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="54-css吸顶效果"><a href="#54-css吸顶效果" class="headerlink" title="54. css吸顶效果"></a>54. css吸顶效果</h4><p>通过使用<code>position:sticky; top: 10px</code>可以实现到顶之后吸顶<code>10px</code>，也需要父容器设置相对定位，<code>top、left、right、bottom</code>这四个位置属性是必须要设置的，不然只会处于相对定位 详情见 <a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904199256293384">css粘性定位</a></p>
<h4 id="55-动态创建下载文件-修改文件名"><a href="#55-动态创建下载文件-修改文件名" class="headerlink" title="55. 动态创建下载文件 修改文件名"></a>55. 动态创建下载文件 修改文件名</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onDownload</span>(<span class="params">url,fileName</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> self = <span class="variable language_">this</span>;</span><br><span class="line">      <span class="keyword">let</span> x = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">      x.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>, url, <span class="literal">true</span>);</span><br><span class="line">      x.<span class="property">responseType</span> = <span class="string">&quot;blob&quot;</span>;</span><br><span class="line">      x.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">//self.exportLoading = false;</span></span><br><span class="line">        <span class="keyword">let</span> url = <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">createObjectURL</span>(x.<span class="property">response</span>);</span><br><span class="line">        <span class="keyword">let</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        a.<span class="property">href</span> = url;</span><br><span class="line">        a.<span class="property">download</span> = fileName;</span><br><span class="line">        a.<span class="title function_">click</span>();</span><br><span class="line">      &#125;;</span><br><span class="line">      x.<span class="title function_">send</span>();</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<h4 id="56-El-input-number-输入框只读"><a href="#56-El-input-number-输入框只读" class="headerlink" title="56. El-input-number 输入框只读"></a>56. El-input-number 输入框只读</h4><p>input有一个<code>readonly</code>属性，可以让输入框只读，但是el-input-number中的input是从表面拿不到的，也就是通过在<el-input-number/>标签中添加<code>readonly</code>属性是不起效果的，此时可以通过@focus事件，在input获取焦点的时候通过对<code>input</code>的dom元素绑定<code>readonly</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-input-number</span><br><span class="line">              v-model=&quot;toolsFormData.uploadCount&quot;</span><br><span class="line">              :min=&quot;1&quot;</span><br><span class="line">              :max=&quot;2&quot;</span><br><span class="line">              step-strictly</span><br><span class="line">              :step=&quot;1&quot;</span><br><span class="line">              controls-position=&quot;right&quot;</span><br><span class="line">              @focus=&quot;handleLimitNumberInput($event)&quot;</span><br><span class="line">            &gt;&lt;/el-input-number&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleLimitNumberInput</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    event.<span class="property">currentTarget</span>.<span class="title function_">setAttribute</span>(<span class="string">&#x27;readonly&#x27;</span>, <span class="string">&#x27;readonly&#x27;</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="57-form取消某一项表单的验证"><a href="#57-form取消某一项表单的验证" class="headerlink" title="57. form取消某一项表单的验证"></a>57. form取消某一项表单的验证</h4><p>可以通过</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      (<span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;applicationFormRef&#x27;</span>] <span class="keyword">as</span> any).<span class="title function_">clearValidate</span>(<span class="string">&#x27;level.value&#x27;</span>);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<p>来取消props名为<code>level.value</code>的验证项的红色警告词</p>
<h4 id="58-vue框架的key"><a href="#58-vue框架的key" class="headerlink" title="58. vue框架的key"></a>58. vue框架的key</h4><p>在通过v-for渲染一些频繁改动的组件的时候&#x3D;&#x3D;<strong>key值不能重复</strong>&#x3D;&#x3D;是很重要的，不然vue就会发生一些比较奇怪的现象，同时没有报错</p>
<h4 id="59-引入element-实例的type"><a href="#59-引入element-实例的type" class="headerlink" title="59. 引入element 实例的type"></a>59. 引入element 实例的type</h4><p>Vue 2 ts </p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; <span class="title class_">Form</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line">(<span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;form&#x27;</span>] <span class="keyword">as</span> <span class="title class_">Form</span>).<span class="title function_">resetFields</span>();</span><br></pre></td></tr></table></figure>

<p>Vue3 ts</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//需要先安装Vue Language Features (Volar)和TypeScript Vue Plugin (Volar)</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; <span class="title class_">ElForm</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ElFormInstance</span> = <span class="title class_">InstanceType</span>&lt;<span class="keyword">typeof</span> <span class="title class_">ElForm</span>&gt;</span><br><span class="line"><span class="keyword">const</span> loginForm = ref&lt;<span class="title class_">ElFormInstance</span>&gt;()</span><br></pre></td></tr></table></figure>

<h4 id="60-裁剪工具"><a href="#60-裁剪工具" class="headerlink" title="60. 裁剪工具"></a>60. 裁剪工具</h4><p>cropperjs </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-dialog</span><br><span class="line">    title=&quot;图片剪裁&quot;</span><br><span class="line">    :visible=&quot;true&quot;</span><br><span class="line">    append-to-body</span><br><span class="line">    @close=&quot;closeDialog&quot;</span><br><span class="line">    width=&quot;955px&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;div class=&quot;cropper-content&quot;&gt;</span><br><span class="line">      &lt;div</span><br><span class="line">        class=&quot;cropper&quot;</span><br><span class="line">        style=&quot;text-align: center; width: 892px; height: 572px&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;img id=&quot;cropperImg&quot; :src=&quot;option.img&quot; style=&quot;display: none&quot; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class="line">      &lt;el-button @click=&quot;closeDialog&quot;&gt;取消&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;primary&quot; @click=&quot;finishedCut&quot;&gt;上传&lt;/el-button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/el-dialog&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; Component, Vue, Prop &#125; from &#x27;vue-property-decorator&#x27;;</span><br><span class="line">import &#x27;cropperjs/dist/cropper.css&#x27;;</span><br><span class="line">import Cropper from &#x27;cropperjs&#x27;;</span><br><span class="line">import &#123; uploadFile &#125; from &#x27;@/api/CourseManagement&#x27;;</span><br><span class="line">@Component(&#123;</span><br><span class="line">  name: &#x27;ImgCropper&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">export default class ImgCropper extends Vue &#123;</span><br><span class="line">  @Prop(&#123;</span><br><span class="line">    type: Object,</span><br><span class="line">    required: true,</span><br><span class="line">    default: &#x27;&#x27;</span><br><span class="line">  &#125;)</span><br><span class="line">  imgInfo!: any;</span><br><span class="line">  @Prop(&#123;</span><br><span class="line">    type: Function,</span><br><span class="line">    required: false,</span><br><span class="line">    default: () =&gt; &#123;&#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  callback!: Function;</span><br><span class="line">  @Prop(&#123;</span><br><span class="line">    type: Object,</span><br><span class="line">    required: false,</span><br><span class="line">    default: () =&gt; &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        width: 534,</span><br><span class="line">        height: 350</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  size!: any;</span><br><span class="line">  private option = &#123;</span><br><span class="line">    img: &#x27;&#x27;, // 裁剪图片的地址</span><br><span class="line">    autoCropWidth: 534, // 默认生成截图框宽度</span><br><span class="line">    autoCropHeight: 350, // 默认生成截图框高度</span><br><span class="line">  &#125;;</span><br><span class="line">  private myCropper: any;</span><br><span class="line">  private afterImg: string;</span><br><span class="line">  // 生命周期函数</span><br><span class="line">  async mounted() &#123;</span><br><span class="line">    this.option.img = this.imgInfo.url;</span><br><span class="line">    this.option.autoCropWidth = this.size.width;</span><br><span class="line">    this.option.autoCropHeight = this.size.height;</span><br><span class="line">    await this.$nextTick();</span><br><span class="line">    const image: any = document.getElementById(&#x27;cropperImg&#x27;);</span><br><span class="line">    this.myCropper = new Cropper(image, &#123;</span><br><span class="line">      dragMode: &#x27;move&#x27;,</span><br><span class="line">      initialAspectRatio: this.size.width / this.size.height,</span><br><span class="line">      aspectRatio: this.size.width / this.size.height,</span><br><span class="line">      cropBoxMovable: false,</span><br><span class="line">      cropBoxResizable: false</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private async finishedCut() &#123;</span><br><span class="line">    const name = `$&#123;new Date().getTime()&#125;.png`;</span><br><span class="line">    this.afterImg = this.myCropper</span><br><span class="line">      .getCroppedCanvas(&#123;</span><br><span class="line">        imageSmoothingQuality: &#x27;high&#x27;</span><br><span class="line">      &#125;)</span><br><span class="line">      .toDataURL(&#x27;image/jpg&#x27;);</span><br><span class="line">    // console.log(this.afterImg);</span><br><span class="line">    const data = this.blobToFile(this.dataURLtoBlob(this.afterImg), name);</span><br><span class="line">    // console.log(data);</span><br><span class="line">    await this.uploadCover(data);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 将blob转回file</span><br><span class="line">  private blobToFile(theBlob, fileName) &#123;</span><br><span class="line">    theBlob.lastModifiedDate = new Date();</span><br><span class="line">    theBlob.name = fileName;</span><br><span class="line">    const files = new window.File([theBlob], fileName, &#123; type: theBlob.type &#125;);</span><br><span class="line">    return files;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private closeDialog() &#123;</span><br><span class="line">    this.$emit(&#x27;close&#x27;);</span><br><span class="line">  &#125;</span><br><span class="line">  // base64转二进制</span><br><span class="line">  private dataURLtoBlob(dataurl) &#123;</span><br><span class="line">    const arr = dataurl.split(&#x27;,&#x27;);</span><br><span class="line">    const mime = arr[0].match(/:(.*?);/)[1];</span><br><span class="line">    const bstr = atob(arr[1]);</span><br><span class="line">    let n = bstr.length;</span><br><span class="line">    const u8arr = new Uint8Array(n);</span><br><span class="line">    while (n--) &#123;</span><br><span class="line">      u8arr[n] = bstr.charCodeAt(n);</span><br><span class="line">    &#125;</span><br><span class="line">    return new Blob([u8arr], &#123; type: mime &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  private uploadCover = async (file: any) =&gt; &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      const formData = new FormData();</span><br><span class="line">      formData.append(&#x27;file&#x27;, file);</span><br><span class="line">      formData.append(&#x27;isConvertPdf&#x27;, &#x27;false&#x27;);</span><br><span class="line"></span><br><span class="line">      const &#123; data &#125; = await uploadFile(formData);</span><br><span class="line">      this.$emit(&#x27;up&#x27;, data);</span><br><span class="line">      this.$emit(&#x27;close&#x27;);</span><br><span class="line">    &#125; catch (e) &#123;</span><br><span class="line">      console.log(e);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="61-分离或剔除对象某个或某些的属性"><a href="#61-分离或剔除对象某个或某些的属性" class="headerlink" title="61. 分离或剔除对象某个或某些的属性"></a>61. 分离或剔除对象某个或某些的属性</h4><p>通过es6的解构赋值与扩展运算符可以达到不删除某个属性，通过分离的方式获取到需要的属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">          <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">b</span>: <span class="number">2</span>,</span><br><span class="line">          <span class="attr">c</span>: <span class="number">3</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">const</span> &#123; a, ...others &#125; = obj; <span class="comment">// others: &#123;b:2,c:3&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="62-element-table的selection属性"><a href="#62-element-table的selection属性" class="headerlink" title="62. element table的selection属性"></a>62. element table的selection属性</h4><p>table开启多选框的时候，可以退通过 table的selection属性获取到已选的列表值，仅对于vue2，</p>
<p>在vue3中可以通过<code>table的getSelectionRows</code>方法获取到已选的列表，并且移除了selection属性。</p>
<h4 id="63-vue-Router-beforeRouteEnter"><a href="#63-vue-Router-beforeRouteEnter" class="headerlink" title="63. vue Router beforeRouteEnter"></a>63. vue Router beforeRouteEnter</h4><p>对于beforeRouteEnter这个路由的钩子，他检测的并不是地址链接的改变才去触发这个钩子，</p>
<h4 id="64-获取拓展名"><a href="#64-获取拓展名" class="headerlink" title="64. 获取拓展名"></a>64. 获取拓展名</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// name为文件名</span></span><br><span class="line"><span class="keyword">const</span> [ext, fileName] = name.<span class="title function_">split</span>(<span class="string">&quot;.&quot;</span>).<span class="title function_">reverse</span>();</span><br></pre></td></tr></table></figure>

<h4 id="65-闭包在vue中的应用"><a href="#65-闭包在vue中的应用" class="headerlink" title="65. 闭包在vue中的应用"></a>65. 闭包在vue中的应用</h4><p>例如文件上传</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-uploader</span><br><span class="line">                :after-read=&quot;uploadFile(taskIndex)&quot;</span><br><span class="line">                :before-read=&quot;beforeReadFile(taskIndex)&quot;</span><br><span class="line">                accept=&quot;.doc,.docx,.pdf&quot;</span><br><span class="line">              &gt;</span><br><span class="line">                &lt;div class=&quot;file-upload-container&quot;&gt;</span><br><span class="line">                  &lt;div&gt;</span><br><span class="line">                    &lt;icon-font</span><br><span class="line">                      iconName=&quot;icon_add_file&quot;</span><br><span class="line">                      style=&quot;width: 16px; height: 16px&quot;</span><br><span class="line">                    &gt;&lt;/icon-font&gt;</span><br><span class="line">                    &lt;span&gt;添加文件&lt;/span</span><br><span class="line">                    &gt;&lt;span</span><br><span class="line">                      &gt;&#123;&#123; task.uploadFiles.length &#125;&#125;/&#123;&#123;</span><br><span class="line">                        task.template.count</span><br><span class="line">                      &#125;&#125;&lt;/span</span><br><span class="line">                    &gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line">                  &lt;p&gt;请上传pdf、word格式的文件，文件不超过2M&lt;/p&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">              &lt;/van-uploader&gt;</span><br></pre></td></tr></table></figure>

<p>我希望在<code>uploadFile</code>方法中可以传入其他参数进去，此时可以使用闭包</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">uploadFile</span> = (<span class="params"><span class="attr">taskIndex</span>: <span class="built_in">number</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">async</span> (<span class="attr">file</span>: <span class="built_in">any</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title class_">UploadFile</span>(file.<span class="property">file</span>);</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="title function_">getPreviewUrl</span>(res.<span class="property">fileId</span>);</span><br><span class="line">    enrollInfo.<span class="property">value</span>.<span class="property">enrollTaskItemEn</span>[taskIndex].<span class="property">uploadFiles</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">      <span class="attr">fileId</span>: data.<span class="property">fileId</span>,</span><br><span class="line">      <span class="attr">fileName</span>: data.<span class="property">fileName</span>,</span><br><span class="line">      <span class="attr">url</span>: data.<span class="property">previewUrl</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>其中<code>file</code>为回调的默认参数，<code>taskIndex为传入的参数</code></p>
<p>另一种实现方案，同样是闭包</p>
<p>这两种方法本质上是相同的，但是第二种会更加简洁</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-uploader</span><br><span class="line">                :after-read=&quot;(file) =&gt; uploadFile(file,taskIndex)&quot;</span><br><span class="line">                :before-read=&quot;beforeReadFile(taskIndex)&quot;</span><br><span class="line">                accept=&quot;.doc,.docx,.pdf&quot;</span><br><span class="line">              &gt;</span><br><span class="line">                &lt;div class=&quot;file-upload-container&quot;&gt;</span><br><span class="line">                  &lt;div&gt;</span><br><span class="line">                    &lt;icon-font</span><br><span class="line">                      iconName=&quot;icon_add_file&quot;</span><br><span class="line">                      style=&quot;width: 16px; height: 16px&quot;</span><br><span class="line">                    &gt;&lt;/icon-font&gt;</span><br><span class="line">                    &lt;span&gt;添加文件&lt;/span</span><br><span class="line">                    &gt;&lt;span</span><br><span class="line">                      &gt;&#123;&#123; task.uploadFiles.length &#125;&#125;/&#123;&#123;</span><br><span class="line">                        task.template.count</span><br><span class="line">                      &#125;&#125;&lt;/span</span><br><span class="line">                    &gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line">                  &lt;p&gt;请上传pdf、word格式的文件，文件不超过2M&lt;/p&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">              &lt;/van-uploader&gt;</span><br></pre></td></tr></table></figure>



<h4 id="66-通过vue-set-向响应式对象增加新属性"><a href="#66-通过vue-set-向响应式对象增加新属性" class="headerlink" title="66. 通过vue.set()向响应式对象增加新属性"></a>66. 通过vue.set()向响应式对象增加新属性</h4><ul>
<li>Vue.set( target, key, value ) &#x2F; this.$set( target, key, value )<br>target：要更改的数据源(可以是对象或者数组)<br>key：新增的属性名<br>value ：重新赋的值</li>
</ul>
<h4 id="67-项目接口反复请求报错问题"><a href="#67-项目接口反复请求报错问题" class="headerlink" title="67. 项目接口反复请求报错问题"></a>67. 项目接口反复请求报错问题</h4><p>排查点：</p>
<ol>
<li><p>是否是重复调取某个函数导致很近的时间重复查询某个接口</p>
</li>
<li><p>该页面或者发生影响页面是否是keepAlive状态，如果是keepAlive状态，created()钩子函数需要更改为activated()钩子函数</p>
</li>
</ol>
<h4 id="68-vue3-keepAlive与beforeRouteEnter"><a href="#68-vue3-keepAlive与beforeRouteEnter" class="headerlink" title="68. vue3 keepAlive与beforeRouteEnter"></a>68. vue3 keepAlive与beforeRouteEnter</h4><p>首先描述一个场景，在支付场景的表单填写页面，有一个查看支付条款，点击会跳转到其他页面，此时就需要对表单进行keepalive，保留表单的数据。此时就需要通过<code>beforRouteEnter</code>路由的钩子函数来判断上一个路由地址，但是在vue3中，<code>beforeRouteEnter</code>需要在<code>setup</code>函数之前，所以需要使用其他方式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; defineComponent, ComponentPublicInstance &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">interface IInstance extends ComponentPublicInstance &#123;</span><br><span class="line">  setPathFrom(from: string): void</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  beforeRouteEnter(to, from, next) &#123;</span><br><span class="line">    next((vm) =&gt; &#123;</span><br><span class="line">      const instance = vm as IInstance</span><br><span class="line">      instance.setPathFrom(from.path)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">let pathFrom: string</span><br><span class="line">const setPathFrom = (path: string) =&gt; &#123;</span><br><span class="line">  pathFrom = path</span><br><span class="line">  console.log(&#x27;vue-route::from::&#x27;, pathFrom)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">defineExpose(&#123; setPathFrom &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>通过两个script标签来实现</p>
<h4 id="69-文件下载"><a href="#69-文件下载" class="headerlink" title="69. 文件下载"></a>69. 文件下载</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Description: 文件下载</span></span><br><span class="line"><span class="comment"> * @Author: jmguo2</span></span><br><span class="line"><span class="comment"> * @Date: 2023-04-20 09:52:21</span></span><br><span class="line"><span class="comment"> * @LastEditors: jmguo2</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2023-04-20 14:22:10</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">DownloadFile</span> &#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">filename</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 下载文件函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> url 文件下载地址</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> Promise，返回 Blob 类型数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">downloadFile</span>(<span class="params"><span class="attr">url</span>: <span class="built_in">string</span></span>): <span class="title class_">Promise</span>&lt;<span class="title class_">Blob</span>&gt; &#123;</span><br><span class="line">  <span class="comment">// 创建 Promise 实例</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="comment">// 创建 XMLHttpRequest 实例</span></span><br><span class="line">    <span class="keyword">const</span> request = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">    <span class="comment">// 打开请求，使用 GET 方法</span></span><br><span class="line">    request.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, url);</span><br><span class="line">    <span class="comment">// 设置响应数据类型为 blob</span></span><br><span class="line">    request.<span class="property">responseType</span> = <span class="string">&#x27;blob&#x27;</span>;</span><br><span class="line">    <span class="comment">// 请求成功时触发的事件</span></span><br><span class="line">    request.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// 检查请求状态是否为 200</span></span><br><span class="line">      <span class="keyword">if</span> (request.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="comment">// 如果状态为 200，将响应数据作为 Promise 的返回值</span></span><br><span class="line">        <span class="title function_">resolve</span>(request.<span class="property">response</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 如果状态为错误，则返回包含错误信息的 Promise</span></span><br><span class="line">        <span class="title function_">reject</span>(<span class="title class_">Error</span>(<span class="string">`Download failed; error code: <span class="subst">$&#123;request.statusText&#125;</span>`</span>));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// 请求失败时触发的事件</span></span><br><span class="line">    request.<span class="property">onerror</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// 返回包含错误信息的 Promise</span></span><br><span class="line">      <span class="title function_">reject</span>(<span class="title class_">Error</span>(<span class="string">&#x27;There was a network error.&#x27;</span>));</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// 发送请求</span></span><br><span class="line">    request.<span class="title function_">send</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">downloadFiles</span>(<span class="params"><span class="attr">files</span>: <span class="title class_">DownloadFile</span>[]</span>): <span class="title class_">Promise</span>&lt;<span class="built_in">void</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> blobs = <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>(files.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">file</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">downloadFile</span>(file.<span class="property">url</span>);</span><br><span class="line">    &#125;));</span><br><span class="line">    blobs.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">blob, index</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;看看fileName&#x27;</span>,files[index].<span class="property">filename</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">const</span> filename = files[index].<span class="property">filename</span>;</span><br><span class="line">      <span class="title function_">saveFile</span>(blob, filename);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">saveFile</span>(<span class="params"><span class="attr">blob</span>: <span class="title class_">Blob</span>, <span class="attr">filename</span>: <span class="built_in">string</span></span>): <span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="comment">// 创建Blob对象URL</span></span><br><span class="line">  <span class="keyword">const</span> url = <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(blob);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 创建&lt;a&gt;标签并设置其download和href属性</span></span><br><span class="line">  <span class="keyword">const</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">  a.<span class="property">href</span> = url;</span><br><span class="line">  a.<span class="property">download</span> = filename;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 将&lt;a&gt;标签添加到DOM中并触发单击事件</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(a);</span><br><span class="line">  a.<span class="title function_">click</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 清除Blob对象URL和&lt;a&gt;标签</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">revokeObjectURL</span>(url);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(a);</span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="70-获取字符串url中的参数（不通过route-query）"><a href="#70-获取字符串url中的参数（不通过route-query）" class="headerlink" title="70. 获取字符串url中的参数（不通过route.query）"></a>70. 获取字符串url中的参数（不通过route.query）</h4><p>场景是通过redirectUrl进行跳转，之后附带参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> url = <span class="string">&#x27;/launch?type=3&amp;enrollTaskId=1481&amp;joinPeopleType=10&amp;channelId=22900&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(url);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> enrollTaskId = params.<span class="title function_">get</span>(<span class="string">&#x27;enrollTaskId&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> joinPeopleType = params.<span class="title function_">get</span>(<span class="string">&#x27;joinPeopleType&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> channelId = params.<span class="title function_">get</span>(<span class="string">&#x27;channelId&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(enrollTaskId); <span class="comment">// 输出 1481</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(joinPeopleType); <span class="comment">// 输出 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(channelId); <span class="comment">// 输出 22900</span></span><br></pre></td></tr></table></figure>

<p>坑：在新版本内核中，第一个参数会不识别，结果为null</p>
<h4 id="71-对于标题，中文英文连在一起，英文过长会换行"><a href="#71-对于标题，中文英文连在一起，英文过长会换行" class="headerlink" title="71. 对于标题，中文英文连在一起，英文过长会换行"></a>71. 对于标题，中文英文连在一起，英文过长会换行</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">word-break</span>: break-all; // 阻止英文换行</span><br></pre></td></tr></table></figure>

<h4 id="72-input上传-accept属性的坑"><a href="#72-input上传-accept属性的坑" class="headerlink" title="72. input上传 accept属性的坑"></a>72. input上传 accept属性的坑</h4><p>accept属性只是对上传支持的文件作不展示设置，如果此时点击全部文件，还是可以上传其他格式的文件，accept只是更加美观，作为视觉上的屏蔽，但是还是会存在风险</p>
<h4 id="73-微信浏览器的小屏适配不兼容flex-gap"><a href="#73-微信浏览器的小屏适配不兼容flex-gap" class="headerlink" title="73. 微信浏览器的小屏适配不兼容flex gap"></a>73. 微信浏览器的小屏适配不兼容flex gap</h4><p>可以使用grid布局</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">display</span>: grid;</span><br><span class="line"><span class="attribute">grid-column</span>-<span class="attribute">gap</span>: <span class="number">12px</span>;</span><br><span class="line"><span class="attribute">grid-row</span>-<span class="attribute">gap</span>: <span class="number">12px</span>;</span><br><span class="line"><span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fill, <span class="number">161px</span>);</span><br></pre></td></tr></table></figure>

<p>设置每个网格的宽度为161px 设置网格间距</p>
<h4 id="74-手机浏览器下载拦截问题"><a href="#74-手机浏览器下载拦截问题" class="headerlink" title="74. 手机浏览器下载拦截问题"></a>74. 手机浏览器下载拦截问题</h4><p>安卓手机浏览器只能下载网址从<code>http或者https</code>来源的文件，不能是blob或者data格式的链接，safari没有这个问题，此时就会出现下载文件文件名命名为乱码的问题，因为下载的文件名是从下载链接去取的，如果要修改名字需要通过blob格式下载</p>
<p>另一种实现方案就是在后端，可以使用服务端设置 Content-Disposition 响应头的方式来指定文件名。具体做法是在服务器端或后台设置响应头中的 Content-Disposition 属性：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Disposition: attachment; filename=&quot;example.txt&quot;</span><br></pre></td></tr></table></figure>

<h4 id="75-axios终止上传"><a href="#75-axios终止上传" class="headerlink" title="75. axios终止上传"></a>75. axios终止上传</h4><p>在Axios中取消上传请求可以通过取消Token来实现。首先，需要创建一个cancelToken对象和相应的取消函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">CancelToken</span> = axios.<span class="property">CancelToken</span>;</span><br><span class="line"><span class="keyword">let</span> cancel;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取消请求函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">cancelUploadRequest</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (cancel) &#123;</span><br><span class="line">    <span class="title function_">cancel</span>(<span class="string">&#x27;Request canceled.&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在发起上传请求时，将cancelToken传递给请求对象的cancelToken属性：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;/upload&#x27;</span>, formData, &#123;</span><br><span class="line">  <span class="attr">cancelToken</span>: <span class="keyword">new</span> <span class="title class_">CancelToken</span>(<span class="keyword">function</span> (<span class="params">c</span>) &#123;</span><br><span class="line">    cancel = c;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>当需要取消请求时，调用cancelUploadRequest函数即可：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">cancelUploadRequest</span>();</span><br></pre></td></tr></table></figure>

<h4 id="76-微信浏览器不能下载文件"><a href="#76-微信浏览器不能下载文件" class="headerlink" title="76. 微信浏览器不能下载文件"></a>76. 微信浏览器不能下载文件</h4><p>这个安卓是会提示的，但是ios不会，ios会直接对这个文件进行预览操作，此时如果浏览器预览有问题，则会到网络异常页面，所以需要手动去判断是不是微信浏览器</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ua = navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>();</span><br><span class="line">　　<span class="keyword">let</span> isWeixin = ua.<span class="title function_">indexOf</span>(<span class="string">&#x27;micromessenger&#x27;</span>) != -<span class="number">1</span>;</span><br><span class="line">　　<span class="keyword">if</span> (isWeixin) &#123;</span><br><span class="line">   　　 <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">　　&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">   　　 <span class="keyword">return</span> <span class="literal">false</span>;      </span><br><span class="line">　　&#125;</span><br></pre></td></tr></table></figure>

<h4 id="77-交换两个变量的值"><a href="#77-交换两个变量的值" class="headerlink" title="77. 交换两个变量的值"></a>77. 交换两个变量的值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">2</span>;</span><br><span class="line">[x, y] = [y, x];</span><br></pre></td></tr></table></figure>

<h4 id="78-El-date-picker格式化日期，当日0点-当日24点"><a href="#78-El-date-picker格式化日期，当日0点-当日24点" class="headerlink" title="78. El-date-picker格式化日期，当日0点-当日24点"></a>78. El-date-picker格式化日期，当日0点-当日24点</h4><p>在@change的时候绑定该事件，项目代码检索码：<code>格式化时间-formartTime</code>（可通过该字段检索到代码实现）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">handleSelectTime([start, end]) &#123;</span><br><span class="line">    // 开始时间需要为当日的0点，结束时间为当日的23:59:59</span><br><span class="line">    const startTime = start + &#x27; 00:00:00&#x27;;</span><br><span class="line"></span><br><span class="line">    console.log(&#x27;开始时间&#x27;, startTime);</span><br><span class="line">    const endtime = end + &#x27; 23:59:59&#x27;;</span><br><span class="line">    if (endtime &lt;= startTime) &#123;</span><br><span class="line">      this.$message.warning(&#x27;开始时间不能晚于结束时间&#x27;);</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(&#x27;结束时间&#x27;, endtime);</span><br><span class="line">    this.searchInfo.beginDate = new Date(startTime).getTime();</span><br><span class="line">    this.searchInfo.endDate = new Date(endtime).getTime();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="79-Css-滚动条不贴边"><a href="#79-Css-滚动条不贴边" class="headerlink" title="79. Css 滚动条不贴边"></a>79. Css 滚动条不贴边</h4><p>如果想要滚动条不贴边，需要包三层div</p>
<p>第一层：需要设置高度和overflow:scroll，此时才会有滚动条</p>
<p>第二层：设置居中，表单一般都是居中的</p>
<p>第三层：设置真正的容器，宽度内容等等，此时滚动条就不会贴着表单</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.page &#123;</span><br><span class="line">  height: calc(100vh - #&#123;$header-height&#125; - #&#123;$crumb-height&#125; - 24px - 80px);</span><br><span class="line">  overflow: scroll;</span><br><span class="line">&#125;</span><br><span class="line">.page-container &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line">.form-container &#123;</span><br><span class="line">  width: 1200px;</span><br><span class="line">  padding-bottom: 160px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/../img/image-20230627111537479.png" alt="image-20230627111537479"></p>
<h4 id="80-手写钩子函数"><a href="#80-手写钩子函数" class="headerlink" title="80. 手写钩子函数"></a>80. 手写钩子函数</h4><p>钩子函数通常应用在类中，列举一个场景：在一个组件中要去new一个文件上传类，通过类进行读取文件信息，每当读取进度有更新，就会通知到组件去更新信息</p>
<p>此时就需要在类中注册一个钩子函数，每当进度更新，就会触发这个钩子函数</p>
<p>之所以不在类中进行钩子函数的实现是因为这个对进度的操作是可变化的，工具类应该具有通用性</p>
<p>此时可以按照步骤：</p>
<p>1、类中定义钩子函数</p>
<p>2、类中根据特定条件触发钩子函数，通过判断钩子函数是否实现<code>（Object.prototype.toString.call()=== [object Function]）</code></p>
<p>3、在组件中实例化该类</p>
<p>4、在组件中注册钩子函数（重写钩子函数）</p>
<p>5、等待触发钩子函数</p>
<p>以下是自己代码实现：</p>
<p>组件中：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">beforeUpload</span> = <span class="keyword">async</span> (<span class="params"><span class="attr">file</span>: <span class="title class_">File</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;before-upload&#x27;</span>);</span><br><span class="line">  <span class="comment">// 首先注册钩子函数</span></span><br><span class="line">  uploader.<span class="property">onProgressUpdate</span> = <span class="function">(<span class="params"><span class="attr">progress</span>: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;进度&#x27;</span>,progress);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> uploader.<span class="title function_">getHashByFile</span>(file);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;md5&#x27;</span>,res);</span><br><span class="line">  <span class="comment">// uploader.uploadFile(file)</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>类中：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">FileUploader</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">maxThreads</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">chunkSize</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">token</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">prepareUrl</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">completeUrl</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">enableChunking</span>: <span class="built_in">boolean</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="attr">onProgressUpdate</span>: <span class="title class_">Function</span> | <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">options</span>: <span class="title class_">UploadOptions</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">maxThreads</span> = options.<span class="property">maxThreads</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">chunkSize</span> = options.<span class="property">chunkSize</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">token</span> = options.<span class="property">token</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">prepareUrl</span> = options.<span class="property">baseUrl</span> + <span class="string">&quot;/upload/file/storage/prepare&quot;</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">completeUrl</span> = options.<span class="property">baseUrl</span> + <span class="string">&quot;/upload/file/storage/complete&quot;</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">enableChunking</span> = options.<span class="property">enableChunking</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getHashByFile</span>(<span class="params"><span class="attr">file</span>: <span class="title class_">File</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> fileReader = <span class="keyword">new</span> <span class="title class_">FileReader</span>();</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 1.读取文件，并得到一个ArrayBuffer的对象文件数据</span></span><br><span class="line">      fileReader.<span class="title function_">readAsArrayBuffer</span>(file);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 2.文件读取完成回调函数</span></span><br><span class="line">      fileReader.<span class="property">onload</span> = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> buffer = e.<span class="property">target</span>?.<span class="property">result</span> <span class="keyword">as</span> <span class="title class_">ArrayBuffer</span>;</span><br><span class="line">        spark.<span class="title function_">append</span>(buffer);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 唯一标识</span></span><br><span class="line">        <span class="keyword">const</span> <span class="variable constant_">HASH</span> = spark.<span class="title function_">end</span>();</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="variable constant_">HASH</span>);</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 2.文件读取进度回调函数</span></span><br><span class="line">      fileReader.<span class="property">onprogress</span> = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> progress = (e.<span class="property">loaded</span> / file.<span class="property">size</span>) * <span class="number">100</span>;</span><br><span class="line">        <span class="comment">// 此处判断钩子函数是否进行注册</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">onProgressUpdate</span> &amp;&amp; <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>.<span class="property">onProgressUpdate</span>) === <span class="string">&quot;[object Function]&quot;</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">onProgressUpdate</span>(progress);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="81-el-form深层次校验"><a href="#81-el-form深层次校验" class="headerlink" title="81.el-form深层次校验"></a>81.el-form深层次校验</h4><p>El-form-item里的prop需要prop&#x3D;”monitorSetting.cycle”,校验的rules也为’monitorSetting.cycle’</p>
<h4 id="82-pre自动换行"><a href="#82-pre自动换行" class="headerlink" title="82.pre自动换行"></a>82.pre自动换行</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pre &#123;</span><br><span class="line">    <span class="attribute">white-space</span>: pre-wrap;</span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="83-虚线分割线"><a href="#83-虚线分割线" class="headerlink" title="83.虚线分割线"></a>83.虚线分割线</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row-divider&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.row-divider</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1200px</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> dashed <span class="number">#d9d9d9</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="84-路由跳转报错navigation-canceled…"><a href="#84-路由跳转报错navigation-canceled…" class="headerlink" title="84.路由跳转报错navigation canceled…"></a>84.路由跳转报错navigation canceled…</h4><p>vue-router - Navigation cancelled from “&#x2F;“ to “&#x2F;password” with a new navigation</p>
<p>类似这种报错</p>
<p>最简便的方式就是在this.$router.push()后加入.catch(() &#x3D;&gt; {})不能是.catch()</p>
<p>也就是<code>this.$router.push().catch(()=&gt; {}) </code></p>
<h4 id="85-scss文件嵌套样式或者变量等失效"><a href="#85-scss文件嵌套样式或者变量等失效" class="headerlink" title="85.scss文件嵌套样式或者变量等失效"></a>85.scss文件嵌套样式或者变量等失效</h4><p>将<code>@import url(&quot;../styles/upload.scss&quot;);</code>改为<code>@import &quot;../styles/upload.scss&quot;;</code></p>
<h4 id="86-proxy代理处理数据变化拦截"><a href="#86-proxy代理处理数据变化拦截" class="headerlink" title="86.proxy代理处理数据变化拦截"></a>86.proxy代理处理数据变化拦截</h4><p>需求：有个开关e-switch，开启之前进行弹窗提醒</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@description</span>: 增加代理，代理自动激活属性，在该值修改之前进行拦截</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> &#123;<span class="type">*</span>&#125;</span></span><br><span class="line"><span class="comment">   */</span>  </span><br><span class="line">  proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(<span class="variable language_">this</span>.<span class="property">isOpenAutoActivateParams</span>, <span class="variable language_">this</span>.<span class="title function_">getAutoActivateHandler</span>())</span><br><span class="line"></span><br><span class="line"><span class="title function_">getAutoActivateHandler</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">get</span>: <span class="title class_">Reflect</span>.<span class="property">get</span>,</span><br><span class="line">      <span class="attr">set</span>: <span class="function">(<span class="params">target, property, value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">updateTarget</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">          <span class="keyword">let</span> fn = value ? <span class="variable language_">this</span>.<span class="title function_">showOpenPopUp</span>() : <span class="variable language_">this</span>.<span class="title function_">showClosePopUp</span>();</span><br><span class="line">          fn.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            target[property] = value;</span><br><span class="line">          &#125;).<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            target[property] = value ? <span class="number">0</span> : <span class="number">1</span>;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">          property === <span class="string">&#x27;isOpenAutoActivate&#x27;</span></span><br><span class="line">        ) &#123;</span><br><span class="line">          <span class="title function_">updateTarget</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          target[property] = value;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="87-El-image预览增加下载"><a href="#87-El-image预览增加下载" class="headerlink" title="87. El-image预览增加下载"></a>87. El-image预览增加下载</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="title function_">handlePreview</span>(<span class="params">cert,i</span>) &#123;</span><br><span class="line">        (<span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">`cert<span class="subst">$&#123;cert.certificateHolderId&#125;</span><span class="subst">$&#123;i&#125;</span>`</span>] <span class="keyword">as</span> any)[<span class="number">0</span>].<span class="title function_">clickHandler</span>();</span><br><span class="line">        <span class="keyword">await</span> <span class="variable language_">this</span>.$nextTick();</span><br><span class="line">        <span class="keyword">const</span> wrapper = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;el-image-viewer__actions__inner&#x27;</span>);</span><br><span class="line">        <span class="keyword">const</span> downImage = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;i&#x27;</span>);</span><br><span class="line">        downImage.<span class="title function_">setAttribute</span>(<span class="string">&#x27;class&#x27;</span>, <span class="string">&#x27;el-icon-download&#x27;</span>);</span><br><span class="line">        <span class="keyword">const</span> wrapperElem = wrapper[<span class="number">0</span>];</span><br><span class="line">        wrapperElem.<span class="title function_">appendChild</span>(downImage);</span><br><span class="line">        <span class="keyword">if</span>(wrapperElem) &#123;</span><br><span class="line">            downImage.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="title function_">async</span>() =&gt; &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">handleDownload</span>(cert)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">handleDownload</span>(<span class="params">cert</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$loading</span>[<span class="string">&#x27;show&#x27;</span>]();</span><br><span class="line">        <span class="keyword">const</span> &#123; certificateName &#125; = cert;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$loading</span>[<span class="string">&#x27;hide&#x27;</span>]();</span><br><span class="line">            <span class="title function_">downloadFileByUrl</span>(cert.<span class="property">certificateDownloaUrl</span>, <span class="string">`<span class="subst">$&#123;certificateName&#125;</span>.jpg`</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$loading</span>[<span class="string">&#x27;hide&#x27;</span>]();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="88-数组换行显示"><a href="#88-数组换行显示" class="headerlink" title="88. 数组换行显示"></a>88. 数组换行显示</h4><p>这是</p>
<p>换行</p>
<p>显示</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;这是&#x27;</span>，<span class="string">&#x27;换行&#x27;</span>,<span class="string">&#x27;显示&#x27;</span>]；</span><br><span class="line">arr.<span class="title function_">join</span>(<span class="string">&#x27;/n&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="89-Object-create-与Object-defineProperty"><a href="#89-Object-create-与Object-defineProperty" class="headerlink" title="89. Object.create()与Object.defineProperty()"></a>89. Object.create()与Object.defineProperty()</h4><p>let obj &#x3D; Object.create(null)与let obj &#x3D; {}的区别在于，</p>
<p>前者可以创建出更加纯净的对象，不包含原型链以及继承的属性和方法</p>
<p>obj.name &#x3D; {} 与 Object.definePorperty(obj, name, {})的区别在于，</p>
<p>后者可以存在以下可选配置属性</p>
<ul>
<li><code>value</code>：属性的值</li>
<li><code>writable</code>：属性是否可写</li>
<li><code>enumerable</code>：属性是否可枚举</li>
<li><code>configurable</code>：属性是否可配置</li>
<li><code>get</code>：获取属性值的方法</li>
<li><code>set</code>：设置属性值的方法</li>
</ul>
<p>比如</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="string">&#x27;John&#x27;</span>,</span><br><span class="line">  <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">configurable</span>: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="90-45个git操作场景"><a href="#90-45个git操作场景" class="headerlink" title="90. 45个git操作场景"></a>90. 45个git操作场景</h4><p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/QEoC5Ib-zkd6r8SVFcpeUw">https://mp.weixin.qq.com/s/QEoC5Ib-zkd6r8SVFcpeUw</a></p>
<h4 id="91-java项目-thymeleaf语法"><a href="#91-java项目-thymeleaf语法" class="headerlink" title="91. java项目 thymeleaf语法"></a>91. java项目 thymeleaf语法</h4><p>thymeleaf是springboot框架的模板引擎</p>
<h4 id="92-Cookie-httpOnly"><a href="#92-Cookie-httpOnly" class="headerlink" title="92. Cookie httpOnly"></a>92. Cookie httpOnly</h4><p>httpOnly后端添加可以防止客户端脚本访问数据，通过set-cookie中设置，此时前端无法通过<code>document.cookie</code>去获取，但是不会影响到发送请求携带cookie</p>
<h4 id="93-动态路由的坑-动态路由刷新后显示404"><a href="#93-动态路由的坑-动态路由刷新后显示404" class="headerlink" title="93. 动态路由的坑-动态路由刷新后显示404"></a>93. 动态路由的坑-动态路由刷新后显示404</h4><p>因为是动态路由，所以刷新的时候第一次进入会发出警告，没有找到该路由，因为此时接口还没有请求到，此时就会匹配到静态的路由404，之后跳转到该页面去</p>
<p>解决方法就是将404页面也改为动态路由，此时没匹配到该路由时会暂时白屏，之后会触发<code>next({ ...to, replace: true })</code>反复调用<code>router.beforeEach</code>，直到匹配到相应的路由</p>
<p>参考文章：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41912398/article/details/109231418">VUE 路由守卫 next() &#x2F; next({ …to, replace: true }) &#x2F; next(‘&#x2F;‘) 说明</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Alloom/article/details/119726732">踩坑记16 vue-router4 动态路由 刷新404&#x2F;白屏&#x2F;样式错误 next css | 退出登录 removeRoute()后 router.options.routes未更新</a></p>
<h4 id="94-动态插槽之动态插槽名"><a href="#94-动态插槽之动态插槽名" class="headerlink" title="94. 动态插槽之动态插槽名"></a>94. 动态插槽之动态插槽名</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;common-table :config=&quot;pane&quot; class=&quot;table-container&quot; ref=&quot;tableRef&quot;&gt;</span><br><span class="line"> &lt;template v-for=&quot;(item, index) in getTabConfig(pane)&quot; :key=&quot;index&quot; #[item!]=&quot;scope&quot;&gt;</span><br><span class="line">   &lt;slot :name=&quot;item&quot; :scope=&quot;scope&quot;&gt;&lt;/slot&gt;</span><br><span class="line"> &lt;/template&gt;</span><br><span class="line">&lt;/common-table&gt;</span><br></pre></td></tr></table></figure>

<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/Li_Ning21/article/details/117260762">动态插槽</a></p>
<p>对于vue3，可以使用<code>#[]</code>来表达插槽名，感觉其余参数都可以通过<code>[]</code>表示，待验证</p>
<p>本例子是深层插槽传递，这个是中间传递的插槽，所以插槽名都是动态的</p>
<h4 id="95-js业务代码抽离思路"><a href="#95-js业务代码抽离思路" class="headerlink" title="95. js业务代码抽离思路"></a>95. js业务代码抽离思路</h4><p>每一个业务功能模块的js代码可以抽离出来单独存放，其目的不是为了复用，而是为了单独维护其所依赖的状态和方法，便于管理和后期维护，如果全部方法和参数都放在一起的情况下，会导致页面方法过多导致难以快速定位到相应的方法和状态</p>
<p>此时可以通过hooks的方式进行导出和导入</p>
<h4 id="96-ckeditor5接入指南"><a href="#96-ckeditor5接入指南" class="headerlink" title="96. ckeditor5接入指南"></a>96. ckeditor5接入指南</h4><p>通过自定义的方式构建ckeditor5也就是通过<code>CKEditor Online Builder</code>工具进行构建</p>
<ol>
<li><p>进入官网 online Builder中定义需要的插件工具栏和语言</p>
</li>
<li><p>下载build包<img src="/../img/image-20231116171214371.png" alt="image-20231116171214371"></p>
</li>
<li><p>ckeditor5与4不同，官方文档推荐将build包放在 <code>src/</code> 和 <code>node_modules/</code> 文件夹旁边，将压缩包解压，可以将压缩包重命名为ckeditor5，方面后面下载依赖包</p>
<blockquote>
<p>Unpack it into you application main directory. The directory with the editor’s build cannot be placed inside the <code>src/</code> directory as Node will return an error. Because of that, we recommend placing the directory next to the <code>src/</code> and <code>node_modules/</code> folders</p>
</blockquote>
</li>
<li><p>在原项目目录下下载依赖，<code>yarn add file:./ckeditor5</code>，此时package.json中的依赖中会多出该字段<code>&quot;ckeditor5-custom-build&quot;: &quot;file:./ckeditor5&quot;</code>，此时可以看到node_modules中会有该依赖</p>
</li>
<li><p>另外还需要下载vue集成ckeditor的依赖，这个依赖是基座，上面那个是个性化配置<br><code>yarn add @ckeditor/ckeditor5-vue</code></p>
</li>
<li><p>引入组件有两种方式</p>
<ul>
<li><p>全局引入（在main.ts中引入ckeditor）</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">CKEditor</span> <span class="keyword">from</span> <span class="string">&quot;@ckeditor/ckeditor5-vue&quot;</span>;</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">CKEditor</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>局部引入（哪里用到就在哪引入）</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这个就是引入你通过online Builder生成的build包</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">SelfEditor</span> <span class="keyword">from</span> <span class="string">&quot;ckeditor5-custom-build/build/ckeditor&quot;</span> </span><br><span class="line"><span class="comment">// ckeditor基座</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">CKEditor</span> <span class="keyword">from</span> <span class="string">&quot;@ckeditor/ckeditor5-vue&quot;</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;ckeditor :editor=&quot;editor&quot; v-model=&quot;editorData&quot; :config=&quot;editorConfig&quot;&gt;      	&lt;/ckeditor&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">import ClassicEditor from &quot;ckeditor5-custom-build/build/ckeditor&quot;</span><br><span class="line">import CKEditor from &quot;@ckeditor/ckeditor5-vue&quot;;</span><br><span class="line"></span><br><span class="line">const ckeditor = CKEditor.component;</span><br><span class="line">const editor = ClassicEditor;</span><br><span class="line">const editorData = ref(&quot;&quot;);</span><br><span class="line"></span><br><span class="line">const editorConfig = &#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const getEditorData = () =&gt; &#123;</span><br><span class="line">  return editorData.value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">defineExpose(&#123;</span><br><span class="line">  getEditorData</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h5 id="排坑："><a href="#排坑：" class="headerlink" title="排坑："></a>排坑：</h5><ul>
<li><p>需要严格按着上述步骤走，基座必须要引入</p>
</li>
<li><p>不需要安装@ckeditor&#x2F;ckeditor5-build-classic依赖，引入配置文件注意是<img src="/../img/image-20231120142409582.png" alt="image-20231120142409582"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">CustomEditor</span> <span class="keyword">from</span> <span class="string">&quot;ckeditor5-custom-build/build/ckeditor&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>组件中会存在已有插件和新增插件的冲突，有的插件使用时互斥的，在运行时候报错的时候可以关注下这两个是否互斥</p>
</li>
</ul>
<h4 id="97-uniapp-调试增加动态consloe"><a href="#97-uniapp-调试增加动态consloe" class="headerlink" title="97. uniapp 调试增加动态consloe"></a>97. uniapp 调试增加动态consloe</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vconsole</span><br></pre></td></tr></table></figure>

<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.ts中引入</span></span><br><span class="line"><span class="keyword">import</span> vconsole <span class="keyword">from</span> <span class="string">&#x27;vconsole&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$vconsole</span> = <span class="keyword">new</span> <span class="title function_">vconsole</span>()</span><br></pre></td></tr></table></figure>

<p>参考文章：<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1934748">https://cloud.tencent.com/developer/article/1934748</a></p>
<h4 id="98-获取本页dom图片"><a href="#98-获取本页dom图片" class="headerlink" title="98. 获取本页dom图片"></a>98. 获取本页dom图片</h4><ul>
<li><p>dom-to-image</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">domtoimage</span><br><span class="line">          .<span class="title function_">toPng</span>(container, &#123; <span class="attr">width</span>: <span class="string">&quot;1920&quot;</span>, <span class="attr">bgcolor</span>: <span class="string">&quot;#ffffff&quot;</span> &#125;)</span><br><span class="line">          .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">dataUrl</span>) &#123;</span><br><span class="line">            <span class="comment">// 创建一个链接元素</span></span><br><span class="line">            <span class="keyword">let</span> downloadLink = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">            downloadLink.<span class="property">href</span> = dataUrl;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 设置下载属性，包括文件名</span></span><br><span class="line">            downloadLink.<span class="property">download</span> = <span class="string">&quot;download.png&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 将链接插入文档并触发点击</span></span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(downloadLink);</span><br><span class="line">            downloadLink.<span class="title function_">click</span>();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 清理链接元素</span></span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(downloadLink);</span><br><span class="line">          &#125;)</span><br><span class="line">          .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Error exporting image:&quot;</span>, error);</span><br><span class="line">          &#125;);</span><br></pre></td></tr></table></figure>

<p>实测这种方式可以完整的截下当前屏幕的dom，但是会出现宽度异常，背景色异常的情况，此时需要手动设置参数</p>
</li>
</ul>
<h4 id="99-原生时间选择器input-type-datetime-local"><a href="#99-原生时间选择器input-type-datetime-local" class="headerlink" title="99. 原生时间选择器input type&#x3D;datetime-local"></a>99. 原生时间选择器input type&#x3D;datetime-local</h4><p>介绍一下原生时间选择器如何设置初始值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">setHours</span> = (<span class="params">&#123;hour, minute, second, millisecond&#125;,id</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 获取当前日期</span></span><br><span class="line">  <span class="keyword">let</span> currentDate = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  <span class="comment">// 将时间设置为今天的0点</span></span><br><span class="line">  currentDate.<span class="title function_">setUTCHours</span>(hour, minute, second, millisecond);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;currentDate&#x27;</span>, currentDate);</span><br><span class="line">  <span class="comment">// 设置 input 的初始值</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id).<span class="property">valueAsNumber</span> = currentDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>坑：</p>
<ul>
<li>setHours会因为时区问题导致时间显示错误所以需要使用setUTCHours</li>
<li>设置 datetime-local需要使用document.getElementById(id).valueAsNumber 而不是 .value</li>
<li>该种设置方式显示可以正常，但是通过 .value获取到的值是utc的值，与中国时区相差8小时，需要手动处理数据</li>
</ul>
<p>另一种方式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">setHours</span> = (<span class="params">&#123; hour, minute, second, millisecond &#125;, id</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 获取当前日期</span></span><br><span class="line">  <span class="keyword">let</span> currentDate = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  <span class="comment">// 将时间设置为今天的0点</span></span><br><span class="line">  currentDate.<span class="title function_">setHours</span>(hour, minute, second, millisecond);</span><br><span class="line">  <span class="comment">// 格式化日期为 datetime-local 的格式</span></span><br><span class="line">  <span class="keyword">let</span> formattedDate = currentDate.<span class="title function_">toISOString</span>().<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">16</span>);</span><br><span class="line">  <span class="comment">// 设置 input 的初始值</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id).<span class="property">value</span> = formattedDate;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 时间初始化</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">initTime</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 时区问题需要+8个小时</span></span><br><span class="line">  <span class="title function_">setHours</span>(&#123; <span class="attr">hour</span>: <span class="number">8</span>, <span class="attr">minute</span>: <span class="number">0</span>, <span class="attr">second</span>: <span class="number">0</span>, <span class="attr">millisecond</span>: <span class="number">0</span> &#125;, <span class="string">&quot;timePickerFrom&quot;</span>);</span><br><span class="line">  <span class="title function_">setHours</span>(</span><br><span class="line">    &#123; <span class="attr">hour</span>: <span class="number">31</span>, <span class="attr">minute</span>: <span class="number">59</span>, <span class="attr">second</span>: <span class="number">59</span>, <span class="attr">millisecond</span>: <span class="number">0</span> &#125;,</span><br><span class="line">    <span class="string">&quot;timePickerTo&quot;</span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>一切按着默认的来，手动调整时区</p>
<h4 id="100-JSON-parse-JSON-stringify-option-函数丢失"><a href="#100-JSON-parse-JSON-stringify-option-函数丢失" class="headerlink" title="100.  JSON.parse(JSON.stringify(option) 函数丢失"></a>100.  JSON.parse(JSON.stringify(option) 函数丢失</h4><p>这是因为 JSON 格式不支持函数的序列化，使用json.stringify会忽略对象中的函数属性，此时需要手动深拷贝</p>
<h4 id="101-导出本页为pdf"><a href="#101-导出本页为pdf" class="headerlink" title="101. 导出本页为pdf"></a>101. 导出本页为pdf</h4><p>最为简单的办法就是window.print()，调出浏览器的打印功能导出pdf清晰度都有保证</p>
<p>另外就是通过html2canvas+jsPdf进行导出，基本思路就是通过html2canvas等库工具将本页dom转化为图片格式，然后将图片再转化为pdf，其中比较好的例子，<a target="_blank" rel="noopener" href="https://github.com/linwalker/render-html-to-pdf">html转pdf</a>。</p>
<p>html2canvans中比较坑的点就是会吞一些dom元素以及样式，原因还没找到，清晰度还是可以的，在远古版本是不吞元素和样式的，但是无法调整清晰度。会返回一个canvas元素，返回canvas的优点就在于可以对canvas元素进行一些操作</p>
<p>Dom-to-image这个目前来看是可以很好展示dom元素样式的，默认清晰度不高，会返回一个imgurl</p>
<h4 id="102-获取到select修改前的值"><a href="#102-获取到select修改前的值" class="headerlink" title="102. 获取到select修改前的值"></a>102. 获取到select修改前的值</h4><p>this.$refs[‘select’].value</p>
<h4 id="103-uniapp-scroll-view隐藏横向滚动条"><a href="#103-uniapp-scroll-view隐藏横向滚动条" class="headerlink" title="103. uniapp scroll-view隐藏横向滚动条"></a>103. uniapp scroll-view隐藏横向滚动条</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">scroll-view ::-webkit-scrollbar &#123;</span><br><span class="line">	  <span class="attribute">appearance</span>: none;</span><br><span class="line">	  <span class="attribute">color</span>: transparent;</span><br><span class="line">	  <span class="attribute">display</span>: none;</span><br><span class="line">	  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">	  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>详情见 ： <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/community/develop/doc/00006473cf08f8c29da606b2d56c00">https://developers.weixin.qq.com/community/develop/doc/00006473cf08f8c29da606b2d56c00</a> 小辉的回答</p>
<h4 id="104-vxe-table-大数据量表格排坑"><a href="#104-vxe-table-大数据量表格排坑" class="headerlink" title="104. vxe-table 大数据量表格排坑"></a>104. vxe-table 大数据量表格排坑</h4><p>可以解决万级table数据量渲染</p>
<p>坑：</p>
<p>排序功能如果要启用，必须设定<code>field</code></p>
<h4 id="105-ruoyi框架排坑"><a href="#105-ruoyi框架排坑" class="headerlink" title="105. ruoyi框架排坑"></a>105. ruoyi框架排坑</h4><p>若依可以启用页面缓存，此时需要启用缓存的页面的name与菜单管理中的路由地址保持一致，不然缓存会失效,且页面.vue的name&#x3D;&#x3D;首字母需要大写！！&#x3D;&#x3D;</p>
<p><img src="/../img/image-20240125162456191.png" alt="image-20240125162456191"></p>
<h4 id="106-el-form中只有一个input回车会导致页面刷新"><a href="#106-el-form中只有一个input回车会导致页面刷新" class="headerlink" title="106. el-form中只有一个input回车会导致页面刷新"></a>106. el-form中只有一个input回车会导致页面刷新</h4><p><img src="/../img/image-20240220094636973.png" alt="image-20240220094636973"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://saberwode.github.io">一叶凉夏</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://saberwode.github.io/2024/02/20/work_%E5%B0%8F%E6%8A%80%E5%B7%A7/">https://saberwode.github.io/2024/02/20/work_%E5%B0%8F%E6%8A%80%E5%B7%A7/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://saberwode.github.io" target="_blank">一叶凉夏</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/work/">work</a></div><div class="post-share"><div class="social-share" data-image="/blog_img/7.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2023/12/28/work_%E9%80%9A%E7%94%A8%E5%B0%8F%E5%B7%A5%E5%85%B7/" title="通用小工具"><img class="cover" src="/blog_img/2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">通用小工具</div></div><div class="info-2"><div class="info-item-1">遍历所有key123Object.keys(this.form).forEach((key) =&gt; &#123;          this.form[key] = this.selection[0][key];        &#125;);  </div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2023/01/03/problem_game/" title="game"><img class="cover" src="/blog_img/1.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-03</div><div class="info-item-2">game</div></div><div class="info-2"><div class="info-item-1">Tic Tac Toe项目总结1.v-for使用报错：Cannot use v-for on stateful component root element because it renders multiple elements. 不能在根元素（root element）使用 v-for，因为v-for是个循环体呈现多个元素，v-for在根元素上导致无法渲染。 &#x3D;&#x3D;使用v-for的时候需要在外层加上一个div不能让他处在根元素上&#x3D;&#x3D; 正确示例： 12345&lt;template id=&quot;block1&quot;&gt;        &lt;div class=&quot;body&quot;&gt;            &lt;div class=&quot;box1&quot; v-for=&quot;item in total_stats1&quot; @click=&quot;&quot;&gt;&#123;&#123;item.id&#125;&#125;&lt;/div&gt;       ...</div></div></div></a><a class="pagination-related" href="/2023/01/03/problem_problem/" title="problem"><img class="cover" src="/blog_img/6.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-03</div><div class="info-item-2">problem</div></div><div class="info-2"><div class="info-item-1">这里是问题汇总1.关于组件化问题：报错内容: did you register the component correctly? For recursive components, make sure to provide the &quot;name&quot; option. 翻译过来是： 您是否正确注册了组件？对于递归组件，请确保提供“name”选项 出现问题的原因： 所渲染的Vue实例不能在组件前面，若在前面创建实例，则无法读取到后面创建的组件。 即new Vue()&#x3D;&#x3D;实例化Vue要放在后面&#x3D;&#x3D; 此时问题解决，同时网上还会有引起类似报错的操作：  如果全局注册,组件名称问题:   若是组件名称是大写,Vue会报错. 可以修改为下面两种:  修改组件名称为小写,即mycomponent即可解决.  如使用局部注册,则是components少写了个s:         2.注意string类型和number类型比较会出问题1234567891011for (let item of this.childstats) &#123;   ...</div></div></div></a><a class="pagination-related" href="/2023/01/03/vueProject_Tic%20Tac%20Toe/" title="Tic Tac Toe"><img class="cover" src="/blog_img/4.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-03</div><div class="info-item-2">Tic Tac Toe</div></div><div class="info-2"><div class="info-item-1">Tic Tac Toe小游戏目前实现的功能： 初始化3×3的子组件网格 绑定网格id 点击网格，向父组件传递id值 父组件接收到id，会对其进行计数，初始为0接受到一次id，计数加一（第一次接受id，count &#x3D;1） 判断逻辑，如果count为奇数，且clickstate为1，修改其player值为1为偶数就修改为2,clicktate值置0 判断逻辑，如果点击过该网格（clickstate &#x3D;&#x3D;...</div></div></div></a><a class="pagination-related" href="/2023/01/03/vueProject_book/" title="book"><img class="cover" src="/blog_img/3.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-03</div><div class="info-item-2">book</div></div><div class="info-2"><div class="info-item-1">书籍管理123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;	&lt;meta charset=&quot;utf-8&quot;&gt;	&lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;	&lt;div id=&quot;app&quot;&gt;		&lt;table border=&quot;1&quot; cellspacing=&quot;0&quot;...</div></div></div></a><a class="pagination-related" href="/2023/05/08/work_Aicode%E6%A1%88%E4%BE%8B%E5%88%86%E4%BA%AB/" title="Aicode案例分享"><img class="cover" src="/blog_img/2.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-08</div><div class="info-item-2">Aicode案例分享</div></div><div class="info-2"><div class="info-item-1">一、转化对象数组的格式1. 需求：有一个对象数组，需要将该数组转化为后端需要的格式数组： 123456789101112131415161718192021[    &#123;      enrollTaskId: 1105,      label: &#x27;对象1&#x27;    &#125;,    &#123;      id: 3,      parentId: 1105,      label: &#x27;对象2&#x27;    &#125;,    &#123;      id: 4,      parentId: 1105,      label: &#x27;对象3&#x27;    &#125;,    &#123;      id: 66,      parentId: 1200,      label: &#x27;对象4&#x27;    &#125;  ]  转化后的数组： 12345678910[    &#123;      enrollTaskId: 1105,      channelIds: [3, 4]    &#125;,  ...</div></div></div></a><a class="pagination-related" href="/2023/03/13/work_nginx/" title="nginx"><img class="cover" src="/blog_img/6.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-13</div><div class="info-item-2">nginx</div></div><div class="info-2"><div class="info-item-1">nginxnginx虚拟主机配置文件(conf.d)如果虚拟主机配置多了，需要将配置文件拆分出来，此时可将文件放在conf.d中，建立各自对应的配置文件。 让上述配置生效的话需要在nginx.conf的http块中加上include conf.d/*.conf; </div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E6%8A%80%E5%B7%A7"><span class="toc-number">1.</span> <span class="toc-text">小技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-template%E6%A8%A1%E6%9D%BF%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E5%92%8C%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.1.</span> <span class="toc-text">1.template模板中使用对象和函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%88%97%E8%A1%A8%E6%87%92%E5%8A%A0%E8%BD%BD%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.0.2.</span> <span class="toc-text">2.列表懒加载实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%88%B6%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E5%AD%90%E7%BB%84%E4%BB%B6%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84%E5%87%BA%E9%94%99"><span class="toc-number">1.0.3.</span> <span class="toc-text">3.父组件传递子组件图片路径出错</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E9%9C%80%E8%A6%81%E6%AE%B5%E8%90%BD%E4%BF%9D%E6%8C%81%E6%8D%A2%E8%A1%8C"><span class="toc-number">1.0.4.</span> <span class="toc-text">4.需要段落保持换行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4%E6%88%B3"><span class="toc-number">1.0.5.</span> <span class="toc-text">5.获取当前时间戳</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-git%E5%B0%8F%E6%8A%80%E5%B7%A7"><span class="toc-number">1.0.6.</span> <span class="toc-text">6.git小技巧</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-last-child"><span class="toc-number">1.0.7.</span> <span class="toc-text">7. :last-child</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-keep-alive-%E5%92%8C-onActived"><span class="toc-number">1.0.8.</span> <span class="toc-text">8. keep-alive 和 onActived</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-element-ui-dialog-lable-%E6%97%A0%E6%B3%95%E5%8F%B3%E5%AF%B9%E9%BD%90"><span class="toc-number">1.0.9.</span> <span class="toc-text">9. element ui dialog lable 无法右对齐</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-vant-%E8%BD%AE%E6%92%AD%E5%9B%BE%E6%97%A0%E6%B3%95%E8%87%AA%E5%8A%A8%E8%BD%AE%E6%92%AD"><span class="toc-number">1.0.10.</span> <span class="toc-text">10.vant 轮播图无法自动轮播</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-%E6%A0%B7%E5%BC%8F%E7%A9%BF%E9%80%8F"><span class="toc-number">1.0.11.</span> <span class="toc-text">11.样式穿透</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-vue2-ts%E4%B8%AD%E4%BD%BF%E7%94%A8-ref"><span class="toc-number">1.0.12.</span> <span class="toc-text">12. vue2 ts中使用 ref</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13-vue2-%E4%B8%AD%E4%BB%8Edata%E4%B8%AD%E6%B8%B2%E6%9F%93%E5%9B%BE%E7%89%87"><span class="toc-number">1.0.13.</span> <span class="toc-text">13.vue2 中从data中渲染图片</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14-vue3-vite%E4%B8%AD%E4%BB%8Edata%E4%B8%AD%E6%B8%B2%E6%9F%93%E5%9B%BE%E7%89%87"><span class="toc-number">1.0.14.</span> <span class="toc-text">14. vue3 vite中从data中渲染图片</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15-%E8%BE%93%E5%85%A5%E6%A1%86%E4%B8%AD%E7%A6%81%E7%94%A8%E7%A9%BA%E6%A0%BC"><span class="toc-number">1.0.15.</span> <span class="toc-text">15. 输入框中禁用空格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-input%E5%8F%AA%E8%83%BD%E8%BE%93%E5%85%A5%E4%B8%AD%E6%96%87"><span class="toc-number">1.0.16.</span> <span class="toc-text">16. input只能输入中文</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17-%E4%B8%8B%E6%8B%89%E6%A1%86%E9%80%89%E4%B8%AD%E7%9A%84%E9%A2%98%E5%9E%8B%E9%AB%98%E4%BA%AE"><span class="toc-number">1.0.17.</span> <span class="toc-text">17. 下拉框选中的题型高亮</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#18-withDefaults-%E4%B8%AD%E4%BC%A0%E5%85%A5%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.0.18.</span> <span class="toc-text">18. withDefaults()中传入对象{}</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#19-%E7%BA%AF%E6%96%87%E6%9C%AC%E5%86%85%E5%AE%B9%E4%BF%9D%E6%8C%81%E5%8E%9F%E6%9C%89%E6%8D%A2%E8%A1%8C"><span class="toc-number">1.0.19.</span> <span class="toc-text">19. 纯文本内容保持原有换行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#20-%E8%8E%B7%E5%8F%96ref%E7%9A%84type"><span class="toc-number">1.0.20.</span> <span class="toc-text">20. 获取ref的type</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8icon"><span class="toc-number">1.0.21.</span> <span class="toc-text">21. 项目中使用icon</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8E%92%E5%9D%91"><span class="toc-number">1.0.22.</span> <span class="toc-text">22. 谷歌浏览器排坑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-%E6%87%92%E5%8A%A0%E8%BD%BD%E7%9A%84%E5%9D%91-%E5%A4%9A%E6%AC%A1%E8%A7%A6%E5%BA%95"><span class="toc-number">1.0.23.</span> <span class="toc-text">23. 懒加载的坑(多次触底)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#24-vue-mixins%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.0.24.</span> <span class="toc-text">24.  vue mixins的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#25-%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="toc-number">1.0.25.</span> <span class="toc-text">25. 文件下载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#26-%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="toc-number">1.0.26.</span> <span class="toc-text">26. 对象数组去重</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#27-%E5%88%A0%E9%99%A4%E6%95%B0%E7%BB%84%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.0.27.</span> <span class="toc-text">27. 删除数组中指定对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#28-vue2-%E4%B8%AD-%E4%B8%AD%E4%BD%BF%E7%94%A8-import-%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.0.28.</span> <span class="toc-text">28. vue2 中 {{ }} 中使用 import 的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#29-%E5%8D%A1%E7%89%87css%E6%8E%92%E5%88%97%E6%96%B9%E6%A1%88"><span class="toc-number">1.0.29.</span> <span class="toc-text">29. 卡片css排列方案</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%A5%E6%96%B9%E6%A1%88%E5%B7%B2%E5%BA%9F%E9%99%A4%EF%BC%81%E8%AF%A6%E6%83%85%E5%AE%9E%E7%8E%B0%E8%A7%8134-%E5%88%97%E8%A1%A8%E5%9B%BA%E5%AE%9A%E9%97%B4%E8%B7%9D"><span class="toc-number">1.0.29.1.</span> <span class="toc-text">&#x3D;&#x3D;该方案已废除！详情实现见34.列表固定间距&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#30-v-show-%E4%B8%8E-el-cascader-%E7%9A%84%E5%9D%91"><span class="toc-number">1.0.30.</span> <span class="toc-text">30. v-show 与 el-cascader 的坑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#31-css%E8%AE%BE%E5%AE%9A%E8%B6%85%E5%87%BA%E5%AE%BD%E5%BA%A6%E5%B1%95%E7%A4%BA%E2%80%A6"><span class="toc-number">1.0.31.</span> <span class="toc-text">31. css设定超出宽度展示…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#32-ckeditor5%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.0.32.</span> <span class="toc-text">32. ckeditor5使用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#33-ckeditor4-%E5%A2%9E%E5%8A%A0%E9%9F%B3%E9%A2%91"><span class="toc-number">1.0.33.</span> <span class="toc-text">33. ckeditor4 增加音频</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#34-%E5%88%97%E8%A1%A8%E5%9B%BA%E5%AE%9A%E9%97%B4%E8%B7%9D-flex-gap"><span class="toc-number">1.0.34.</span> <span class="toc-text">34. 列表固定间距 flex gap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#35-slot-scope"><span class="toc-number">1.0.35.</span> <span class="toc-text">35. slot-scope</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#36-%E6%90%9C%E7%B4%A2%E5%85%B3%E9%94%AE%E8%AF%8D%E9%AB%98%E4%BA%AE"><span class="toc-number">1.0.36.</span> <span class="toc-text">36. 搜索关键词高亮</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#37-el-pagination-%E4%B8%AA%E6%95%B0%E9%80%89%E6%8B%A9%E5%99%A8%E9%87%8D%E7%BD%AE"><span class="toc-number">1.0.37.</span> <span class="toc-text">37. el pagination 个数选择器重置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#38-div%E5%AE%9E%E7%8E%B0%E8%81%9A%E7%84%A6%E5%A4%B1%E7%84%A6"><span class="toc-number">1.0.38.</span> <span class="toc-text">38. div实现聚焦失焦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#39-vue-config-js"><span class="toc-number">1.0.39.</span> <span class="toc-text">39. vue.config.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#40-git-clone-%E6%8A%A5%E9%94%99-ssh-Could-not-resolve-hostname"><span class="toc-number">1.0.40.</span> <span class="toc-text">40. git clone 报错 ssh: Could not resolve hostname</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#41-%E6%B8%85%E7%A9%BA%E6%95%B0%E7%BB%84"><span class="toc-number">1.0.41.</span> <span class="toc-text">41. 清空数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#42-%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84%E8%BF%87%E6%BB%A4%E5%85%B3%E9%94%AE%E8%AF%8D"><span class="toc-number">1.0.42.</span> <span class="toc-text">42. 树形结构过滤关键词</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#43-%E8%AF%B7%E6%B1%82%E7%B1%BB%E5%9E%8B-body-%E4%B8%8E-query"><span class="toc-number">1.0.43.</span> <span class="toc-text">43. 请求类型 body 与 query</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#44-%E4%B8%A4%E8%BE%B9%E5%88%86%E5%B8%83%E5%B8%83%E5%B1%80"><span class="toc-number">1.0.44.</span> <span class="toc-text">44. 两边分布布局</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#45-Map%E7%9A%84%E7%94%A8%E6%B3%95%EF%BC%8C%E9%80%9A%E8%BF%87%E9%94%AE%E5%80%BC%E5%AF%B9%E6%9B%B4%E4%BC%98%E9%9B%85%E7%9A%84%E5%86%99%E6%B3%95"><span class="toc-number">1.0.45.</span> <span class="toc-text">45. Map的用法，通过键值对更优雅的写法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#46-%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87%E5%9B%BA%E5%AE%9A%E9%93%BA%E6%BB%A1%E6%B5%8F%E8%A7%88%E5%99%A8-%E4%B8%8D%E9%9A%8F%E5%86%85%E5%AE%B9%E6%BB%9A%E5%8A%A8"><span class="toc-number">1.0.46.</span> <span class="toc-text">46. 背景图片固定铺满浏览器(不随内容滚动)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#47-el-upload-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E6%8A%A5404"><span class="toc-number">1.0.47.</span> <span class="toc-text">47. el-upload 上传文件报404</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#48-El-form-label-%E8%87%AA%E9%80%82%E5%BA%94%E9%95%BF%E5%BA%A6"><span class="toc-number">1.0.48.</span> <span class="toc-text">48. El form label 自适应长度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#49-%E5%AF%B9%E6%9C%89%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E7%9A%84%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%82%E6%95%B0"><span class="toc-number">1.0.49.</span> <span class="toc-text">49. 对有默认参数的回调函数添加自定义参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#50-%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.0.50.</span> <span class="toc-text">50. 合并两个对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#51-Vue-for%E5%BE%AA%E7%8E%AF%E7%9A%84key"><span class="toc-number">1.0.51.</span> <span class="toc-text">51. Vue for循环的key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#52-%E5%93%8D%E5%BA%94%E5%BC%8F%E6%8E%92%E9%94%99"><span class="toc-number">1.0.52.</span> <span class="toc-text">52. 响应式排错</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#53-%E9%85%8D%E7%BD%AE-ref%E8%AF%AD%E6%B3%95%E7%B3%96"><span class="toc-number">1.0.53.</span> <span class="toc-text">53. 配置$ref语法糖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#54-css%E5%90%B8%E9%A1%B6%E6%95%88%E6%9E%9C"><span class="toc-number">1.0.54.</span> <span class="toc-text">54. css吸顶效果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#55-%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BA%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6-%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%90%8D"><span class="toc-number">1.0.55.</span> <span class="toc-text">55. 动态创建下载文件 修改文件名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#56-El-input-number-%E8%BE%93%E5%85%A5%E6%A1%86%E5%8F%AA%E8%AF%BB"><span class="toc-number">1.0.56.</span> <span class="toc-text">56. El-input-number 输入框只读</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#57-form%E5%8F%96%E6%B6%88%E6%9F%90%E4%B8%80%E9%A1%B9%E8%A1%A8%E5%8D%95%E7%9A%84%E9%AA%8C%E8%AF%81"><span class="toc-number">1.0.57.</span> <span class="toc-text">57. form取消某一项表单的验证</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#58-vue%E6%A1%86%E6%9E%B6%E7%9A%84key"><span class="toc-number">1.0.58.</span> <span class="toc-text">58. vue框架的key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#59-%E5%BC%95%E5%85%A5element-%E5%AE%9E%E4%BE%8B%E7%9A%84type"><span class="toc-number">1.0.59.</span> <span class="toc-text">59. 引入element 实例的type</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#60-%E8%A3%81%E5%89%AA%E5%B7%A5%E5%85%B7"><span class="toc-number">1.0.60.</span> <span class="toc-text">60. 裁剪工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#61-%E5%88%86%E7%A6%BB%E6%88%96%E5%89%94%E9%99%A4%E5%AF%B9%E8%B1%A1%E6%9F%90%E4%B8%AA%E6%88%96%E6%9F%90%E4%BA%9B%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">1.0.61.</span> <span class="toc-text">61. 分离或剔除对象某个或某些的属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#62-element-table%E7%9A%84selection%E5%B1%9E%E6%80%A7"><span class="toc-number">1.0.62.</span> <span class="toc-text">62. element table的selection属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#63-vue-Router-beforeRouteEnter"><span class="toc-number">1.0.63.</span> <span class="toc-text">63. vue Router beforeRouteEnter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#64-%E8%8E%B7%E5%8F%96%E6%8B%93%E5%B1%95%E5%90%8D"><span class="toc-number">1.0.64.</span> <span class="toc-text">64. 获取拓展名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#65-%E9%97%AD%E5%8C%85%E5%9C%A8vue%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">1.0.65.</span> <span class="toc-text">65. 闭包在vue中的应用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#66-%E9%80%9A%E8%BF%87vue-set-%E5%90%91%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%B9%E8%B1%A1%E5%A2%9E%E5%8A%A0%E6%96%B0%E5%B1%9E%E6%80%A7"><span class="toc-number">1.0.66.</span> <span class="toc-text">66. 通过vue.set()向响应式对象增加新属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#67-%E9%A1%B9%E7%9B%AE%E6%8E%A5%E5%8F%A3%E5%8F%8D%E5%A4%8D%E8%AF%B7%E6%B1%82%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98"><span class="toc-number">1.0.67.</span> <span class="toc-text">67. 项目接口反复请求报错问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#68-vue3-keepAlive%E4%B8%8EbeforeRouteEnter"><span class="toc-number">1.0.68.</span> <span class="toc-text">68. vue3 keepAlive与beforeRouteEnter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#69-%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="toc-number">1.0.69.</span> <span class="toc-text">69. 文件下载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#70-%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2url%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%88%E4%B8%8D%E9%80%9A%E8%BF%87route-query%EF%BC%89"><span class="toc-number">1.0.70.</span> <span class="toc-text">70. 获取字符串url中的参数（不通过route.query）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#71-%E5%AF%B9%E4%BA%8E%E6%A0%87%E9%A2%98%EF%BC%8C%E4%B8%AD%E6%96%87%E8%8B%B1%E6%96%87%E8%BF%9E%E5%9C%A8%E4%B8%80%E8%B5%B7%EF%BC%8C%E8%8B%B1%E6%96%87%E8%BF%87%E9%95%BF%E4%BC%9A%E6%8D%A2%E8%A1%8C"><span class="toc-number">1.0.71.</span> <span class="toc-text">71. 对于标题，中文英文连在一起，英文过长会换行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#72-input%E4%B8%8A%E4%BC%A0-accept%E5%B1%9E%E6%80%A7%E7%9A%84%E5%9D%91"><span class="toc-number">1.0.72.</span> <span class="toc-text">72. input上传 accept属性的坑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#73-%E5%BE%AE%E4%BF%A1%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%B0%8F%E5%B1%8F%E9%80%82%E9%85%8D%E4%B8%8D%E5%85%BC%E5%AE%B9flex-gap"><span class="toc-number">1.0.73.</span> <span class="toc-text">73. 微信浏览器的小屏适配不兼容flex gap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#74-%E6%89%8B%E6%9C%BA%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8B%E8%BD%BD%E6%8B%A6%E6%88%AA%E9%97%AE%E9%A2%98"><span class="toc-number">1.0.74.</span> <span class="toc-text">74. 手机浏览器下载拦截问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#75-axios%E7%BB%88%E6%AD%A2%E4%B8%8A%E4%BC%A0"><span class="toc-number">1.0.75.</span> <span class="toc-text">75. axios终止上传</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#76-%E5%BE%AE%E4%BF%A1%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8D%E8%83%BD%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6"><span class="toc-number">1.0.76.</span> <span class="toc-text">76. 微信浏览器不能下载文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#77-%E4%BA%A4%E6%8D%A2%E4%B8%A4%E4%B8%AA%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC"><span class="toc-number">1.0.77.</span> <span class="toc-text">77. 交换两个变量的值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#78-El-date-picker%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%97%A5%E6%9C%9F%EF%BC%8C%E5%BD%93%E6%97%A50%E7%82%B9-%E5%BD%93%E6%97%A524%E7%82%B9"><span class="toc-number">1.0.78.</span> <span class="toc-text">78. El-date-picker格式化日期，当日0点-当日24点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#79-Css-%E6%BB%9A%E5%8A%A8%E6%9D%A1%E4%B8%8D%E8%B4%B4%E8%BE%B9"><span class="toc-number">1.0.79.</span> <span class="toc-text">79. Css 滚动条不贴边</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#80-%E6%89%8B%E5%86%99%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.80.</span> <span class="toc-text">80. 手写钩子函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#81-el-form%E6%B7%B1%E5%B1%82%E6%AC%A1%E6%A0%A1%E9%AA%8C"><span class="toc-number">1.0.81.</span> <span class="toc-text">81.el-form深层次校验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#82-pre%E8%87%AA%E5%8A%A8%E6%8D%A2%E8%A1%8C"><span class="toc-number">1.0.82.</span> <span class="toc-text">82.pre自动换行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#83-%E8%99%9A%E7%BA%BF%E5%88%86%E5%89%B2%E7%BA%BF"><span class="toc-number">1.0.83.</span> <span class="toc-text">83.虚线分割线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#84-%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC%E6%8A%A5%E9%94%99navigation-canceled%E2%80%A6"><span class="toc-number">1.0.84.</span> <span class="toc-text">84.路由跳转报错navigation canceled…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#85-scss%E6%96%87%E4%BB%B6%E5%B5%8C%E5%A5%97%E6%A0%B7%E5%BC%8F%E6%88%96%E8%80%85%E5%8F%98%E9%87%8F%E7%AD%89%E5%A4%B1%E6%95%88"><span class="toc-number">1.0.85.</span> <span class="toc-text">85.scss文件嵌套样式或者变量等失效</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#86-proxy%E4%BB%A3%E7%90%86%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE%E5%8F%98%E5%8C%96%E6%8B%A6%E6%88%AA"><span class="toc-number">1.0.86.</span> <span class="toc-text">86.proxy代理处理数据变化拦截</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#87-El-image%E9%A2%84%E8%A7%88%E5%A2%9E%E5%8A%A0%E4%B8%8B%E8%BD%BD"><span class="toc-number">1.0.87.</span> <span class="toc-text">87. El-image预览增加下载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#88-%E6%95%B0%E7%BB%84%E6%8D%A2%E8%A1%8C%E6%98%BE%E7%A4%BA"><span class="toc-number">1.0.88.</span> <span class="toc-text">88. 数组换行显示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#89-Object-create-%E4%B8%8EObject-defineProperty"><span class="toc-number">1.0.89.</span> <span class="toc-text">89. Object.create()与Object.defineProperty()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#90-45%E4%B8%AAgit%E6%93%8D%E4%BD%9C%E5%9C%BA%E6%99%AF"><span class="toc-number">1.0.90.</span> <span class="toc-text">90. 45个git操作场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#91-java%E9%A1%B9%E7%9B%AE-thymeleaf%E8%AF%AD%E6%B3%95"><span class="toc-number">1.0.91.</span> <span class="toc-text">91. java项目 thymeleaf语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#92-Cookie-httpOnly"><span class="toc-number">1.0.92.</span> <span class="toc-text">92. Cookie httpOnly</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#93-%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E7%9A%84%E5%9D%91-%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E5%88%B7%E6%96%B0%E5%90%8E%E6%98%BE%E7%A4%BA404"><span class="toc-number">1.0.93.</span> <span class="toc-text">93. 动态路由的坑-动态路由刷新后显示404</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#94-%E5%8A%A8%E6%80%81%E6%8F%92%E6%A7%BD%E4%B9%8B%E5%8A%A8%E6%80%81%E6%8F%92%E6%A7%BD%E5%90%8D"><span class="toc-number">1.0.94.</span> <span class="toc-text">94. 动态插槽之动态插槽名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#95-js%E4%B8%9A%E5%8A%A1%E4%BB%A3%E7%A0%81%E6%8A%BD%E7%A6%BB%E6%80%9D%E8%B7%AF"><span class="toc-number">1.0.95.</span> <span class="toc-text">95. js业务代码抽离思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#96-ckeditor5%E6%8E%A5%E5%85%A5%E6%8C%87%E5%8D%97"><span class="toc-number">1.0.96.</span> <span class="toc-text">96. ckeditor5接入指南</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%92%E5%9D%91%EF%BC%9A"><span class="toc-number">1.0.96.1.</span> <span class="toc-text">排坑：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#97-uniapp-%E8%B0%83%E8%AF%95%E5%A2%9E%E5%8A%A0%E5%8A%A8%E6%80%81consloe"><span class="toc-number">1.0.97.</span> <span class="toc-text">97. uniapp 调试增加动态consloe</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#98-%E8%8E%B7%E5%8F%96%E6%9C%AC%E9%A1%B5dom%E5%9B%BE%E7%89%87"><span class="toc-number">1.0.98.</span> <span class="toc-text">98. 获取本页dom图片</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#99-%E5%8E%9F%E7%94%9F%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9%E5%99%A8input-type-datetime-local"><span class="toc-number">1.0.99.</span> <span class="toc-text">99. 原生时间选择器input type&#x3D;datetime-local</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#100-JSON-parse-JSON-stringify-option-%E5%87%BD%E6%95%B0%E4%B8%A2%E5%A4%B1"><span class="toc-number">1.0.100.</span> <span class="toc-text">100.  JSON.parse(JSON.stringify(option) 函数丢失</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#101-%E5%AF%BC%E5%87%BA%E6%9C%AC%E9%A1%B5%E4%B8%BApdf"><span class="toc-number">1.0.101.</span> <span class="toc-text">101. 导出本页为pdf</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#102-%E8%8E%B7%E5%8F%96%E5%88%B0select%E4%BF%AE%E6%94%B9%E5%89%8D%E7%9A%84%E5%80%BC"><span class="toc-number">1.0.102.</span> <span class="toc-text">102. 获取到select修改前的值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#103-uniapp-scroll-view%E9%9A%90%E8%97%8F%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%9D%A1"><span class="toc-number">1.0.103.</span> <span class="toc-text">103. uniapp scroll-view隐藏横向滚动条</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#104-vxe-table-%E5%A4%A7%E6%95%B0%E6%8D%AE%E9%87%8F%E8%A1%A8%E6%A0%BC%E6%8E%92%E5%9D%91"><span class="toc-number">1.0.104.</span> <span class="toc-text">104. vxe-table 大数据量表格排坑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#105-ruoyi%E6%A1%86%E6%9E%B6%E6%8E%92%E5%9D%91"><span class="toc-number">1.0.105.</span> <span class="toc-text">105. ruoyi框架排坑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#106-el-form%E4%B8%AD%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AAinput%E5%9B%9E%E8%BD%A6%E4%BC%9A%E5%AF%BC%E8%87%B4%E9%A1%B5%E9%9D%A2%E5%88%B7%E6%96%B0"><span class="toc-number">1.0.106.</span> <span class="toc-text">106. el-form中只有一个input回车会导致页面刷新</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By 一叶凉夏</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>